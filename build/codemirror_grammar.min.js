/**
*
*   CodeMirrorGrammar
*   @version: 2.5.0
*
*   Transform a grammar specification in JSON format, into a syntax-highlight parser mode for CodeMirror
*   https://github.com/foo123/codemirror-grammar
*
**/!function(e,t,n){"use strict";var r,o="object"==typeof module&&module.exports,s="function"==typeof define&&define.amd;o?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||n.call(e,{NODE:module})||1:s&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,r,o){return n.call(e,{AMD:o})}):t in e||(e[t]=r=n.call(e,{})||1)&&s&&define(t,[],function(){return r})}(this,"CodeMirrorGrammar",function(e){"use strict";function t(e){var t=0;return null===e?t=Yt:!0===e||!1===e||e instanceof Boolean?t=Xt:Pt===e?t=Wt:(t=fn[Bt.call(e)]||Ht,t=Jt===t||e instanceof Number?isNaN(e)?Qt:isFinite(e)?Jt:Kt:Zt===t||e instanceof String?1===e.length?en:Zt:nn===t||e instanceof Array?nn:sn===t||e instanceof RegExp?sn:ln===t||e instanceof Date?ln:on===t||e instanceof Function?on:rn===t?rn:Ht),t}function n(e,t,n,r){var o,s,l,i,u,a,c=e.length;if(arguments.length<4&&(r=c-1),0>r&&(r+=c),arguments.length<3&&(n=0),n>r)return[];if(n===r)return[t(e[n],n,n,r)];if(l=r-n+1,a=new Array(l),6>l){for(a[0]=t(e[n],n,n,r),a[1]=t(e[n+1],n+1,n,r),s=n+2;r>=s;s++)a[s-n]=t(e[s],s,n,r);return a}for(i=15&l,u=1&i,u&&(a[0]=t(e[n],n,n,r)),o=u;i>o;o+=2)s=n+o,a[o]=t(e[s],s,n,r),a[o+1]=t(e[s+1],s+1,n,r);for(o=i;l>o;o+=16)s=n+o,a[o]=t(e[s],s,n,r),a[o+1]=t(e[s+1],s+1,n,r),a[o+2]=t(e[s+2],s+2,n,r),a[o+3]=t(e[s+3],s+3,n,r),a[o+4]=t(e[s+4],s+4,n,r),a[o+5]=t(e[s+5],s+5,n,r),a[o+6]=t(e[s+6],s+6,n,r),a[o+7]=t(e[s+7],s+7,n,r),a[o+8]=t(e[s+8],s+8,n,r),a[o+9]=t(e[s+9],s+9,n,r),a[o+10]=t(e[s+10],s+10,n,r),a[o+11]=t(e[s+11],s+11,n,r),a[o+12]=t(e[s+12],s+12,n,r),a[o+13]=t(e[s+13],s+13,n,r),a[o+14]=t(e[s+14],s+14,n,r),a[o+15]=t(e[s+15],s+15,n,r);return a}function r(e,t,n,r,o){var s,l,i,u,a,c=e.length,p=n;if(arguments.length<5&&(o=c-1),0>o&&(o+=c),arguments.length<4&&(r=0),r>o)return p;if(r===o)return t(p,e[r],r);if(i=o-r+1,6>i){for(p=t(t(p,e[r],r),e[r+1],r+1),l=r+2;o>=l;l++)p=t(p,e[l],l);return p}for(u=15&i,a=1&u,a&&(p=t(p,e[r],r)),s=a;u>s;s+=2)l=r+s,p=t(t(p,e[l],l),e[l+1],l+1);for(s=u;i>s;s+=16)l=r+s,p=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(p,e[l],l),e[l+1],l+1),e[l+2],l+2),e[l+3],l+3),e[l+4],l+4),e[l+5],l+5),e[l+6],l+6),e[l+7],l+7),e[l+8],l+8),e[l+9],l+9),e[l+10],l+10),e[l+11],l+11),e[l+12],l+12),e[l+13],l+13),e[l+14],l+14),e[l+15],l+15);return p}function o(e,t,n,r){if(t>n)return r;if(t===n)return e(t,r,t,n),r;var o,s,l,i,u=n-t+1;if(6>u){for(e(t,r,t,n),e(t+1,r,t,n),s=t+2;n>=s;s++)e(s,r,t,n);return r}for(l=15&u,i=1&l,i&&e(t,r,t,n),o=i;l>o;o+=2)s=t+o,e(s,r,t,n),e(++s,r,t,n);for(o=l;u>o;o+=16)s=t+o,e(s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n);return r}function s(e,n){var r,o,l,i,u=t(e),a=0;if(Jt===t(n)?n>0?(a=n,n=!0):n=!1:n=!1!==n,rn===u){o={};for(l in e)e[Nt](l)&&e[zt](l)&&(r=t(e[l]),o[l]=rn===r?n?s(e[l],a>0?a-1:n):e[l]:nn===r?n?s(e[l],a>0?a-1:n):e[l].slice():ln===r?new Date(e[l]):Zt&r?e[l].slice():Jt&r?0+e[l]:e[l])}else if(nn===u)for(i=e.length,o=new Array(i),l=0;i>l;l++)r=t(e[l]),o[l]=rn===r?n?s(e[l],a>0?a-1:n):e[l]:nn===r?n?s(e[l],a>0?a-1:n):e[l].slice():ln===r?new Date(e[l]):Zt&r?e[l].slice():Jt&r?0+e[l]:e[l];else o=ln===u?new Date(e):Zt&u?e.slice():Jt&u?0+e:e;return o}function l(){var e,n,r,o,i,u,a,c,p,f,m=arguments,h=m.length;if(1>h)return null;for(n=s(m[0]),r=1;h>r;r++)if(e=m[r])for(o in e)if(e[Nt](o)&&e[zt](o))if(n[Nt](o)&&n[zt](o)){if(p=t(n[o]),f=t(e[o]),rn===p&&rn===f)n[o]=l(n[o],e[o]);else if(nn===p&&nn===f){if(a=n[o],c=e[o],u=c.length,!u)continue;if(a.length)for(i=0;u>i;i++)0>a.indexOf(c[i])&&a.push(c[i]);else n[o]=c.slice()}}else n[o]=s(e[o]);return n}function i(e,n){return n||nn!==t(e)?[e]:e}function u(e,n){return e=i(e),(n||nn!==t(e[0]))&&(e=[e]),e}function a(e,n){return Zt&t(n)&&Zt&t(e)&&n.length&&n.length<=e.length&&n===e.substr(0,n.length)}function c(e,t,n,r,o){return r&&o&&(n[r]=o),t<e.length?e.splice(t,0,n):e.push(n),e}function p(e,t,n){if(t&&n)for(;e.length&&e[e.length-1]&&e[e.length-1][t]===n;)e.pop();else e.length=0;return e}function f(e,t,n){return n?e[t]=Pt:delete e[t],e}function m(){return++yn}function h(e){return(e||"uuid")+"_"+ ++yn+"_"+(new Date).getTime()}function g(){var e,n,r,o,s,l,i=arguments,u=i.length;for(e=i[0]||{},s=1;u>s;s++)if(n=i[s],rn===t(n))for(o in n)n[Nt](o)&&n[zt](o)&&(r=n[o],l=t(r),e[o]=Jt&l?0+r:ln&l?new Date(r):an&l?r.slice():r);return e}function k(e,t){var n,r=arguments.length,o="constructor";return 0===r?(e=Object,t={}):1===r?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[Nt](o)||(t[o]=function(){}),n=t[o],delete t[o],n[Dt]=g(Ft(e[Dt]),t),n[Dt][o]=n,n}function $(e){return e.replace(xn,"\\$1")}function y(e,t){return new RegExp(e,t||"")}function d(e,t,n,r){var o,s,l,i,u=e.pos,a=e.length,c="",p=!!n;if(p){for(r=!!r,s=!1,i=0;a>u&&(o=e[Gt](u++),t!==o||s);)l=n===o,s=!s&&l,r?(l&&i++,(!l||2&i)&&(c+=o,i=0)):c+=o;2&i&&(c+=n)}else for(;a>u&&(o=e[Gt](u++),t!==o);)c+=o;return e.pos=u,c}function b(e,n,r){var o,s,l,i,u,a=!0===r?0:1;for(Zt&t(n)&&(n=[n,n],a=0),s=e.length,u="",o=0;s>o;)l=e[Gt](o),s>o+1&&"$"===l?(i=e.charCodeAt(o+1),36===i?(u+="$",o+=2):i>=48&&57>=i?(u+=n[a+i-48]||"",o+=2):(u+=l,o+=1)):(u+=l,o+=1);return u}function x(e,n,r){if(!e||(Jt|sn)&t(e))return e;var o,s=n?n.length||0:0;if(s&&n===e.substr(0,s)){var l,i,u,o,a,c=e.substr(s),p=c[Gt](0),f="";for(o=c.length;o--&&(a=c[Gt](o),p!==a);)"i"===a.toLowerCase()&&(f="i");return l=c.substring(1,o),i="^("+l+")",r[i]||(u=y(i,f),r[i]=u),r[i]}return e}function v(e,r,o){var s,l="";return Zt&t(r)&&(l=r),s=n(e.sort(gn),$).join("|"),[y("^("+s+")"+l,o?"i":""),1]}function C(e,n,r,o){var s=t(n);if(Jt===s)return n;if(o[e])return o[e];r=r||0;var l,i=0;return n&&n.isCharList&&(i=1,f(n,"isCharList")),l=Yt===s?new j(lt,e,n,Yt,r):en===s?new j(lt,e,n,en,r):cn&s?new j(lt,e,n,sn,r):Zt&s?new j(lt,e,n,i?tn:Zt,r):n,o[e]=l}function _(e,n,r,o,s,l,u){if(u[e])return u[e];var c,p,f,m,h,g,k,$=0,y=0,d=1;if(c=i(n),f=c.length,1===f)k=C(e,x(c[0],r,l),0,u);else if(f>1){for(m=(f>>>1)+1,p=0;m>=p;p++)h=t(c[p]),g=t(c[f-1-p]),(en!==h||en!==g)&&(d=0),nn&h||nn&g?$=1:(sn&h||sn&g||a(c[p],r)||a(c[f-1-p],r))&&(y=1);if(!d||o&&Zt&t(o))if(!o||$||y)if($||y){for(p=0;f>p;p++)c[p]=nn&t(c[p])?_(e+"_"+p,c[p],r,o,s,l,u):C(e+"_"+p,x(c[p],r,l),p,u);k=f>1?new j(it,e,c):c[0]}else{for(c=c.sort(gn),p=0;f>p;p++)c[p]=C(e+"_"+p,x(c[p],r,l),p,u);k=f>1?new j(it,e,c):c[0]}else k=C(e,v(c,o,s),0,u);else c=c.slice().join(""),c.isCharList=1,k=C(e,c,0,u)}return u[e]=k}function w(e,n,r,s,l){if(l[e])return l[e];var i=u(n),c=[],p=[];return o(function(n){var o,u;o=C(e+"_0_"+n,x(i[n][0],r,s),n,l),u=i[n].length>1?sn!==o.ptype||Zt!==t(i[n][1])||a(i[n][1],r)?C(e+"_1_"+n,x(i[n][1],r,s),n,l):i[n][1]:o,c.push(o),p.push(u)},0,i.length-1),l[e]=new j(ut,e,[c,p])}function E(e,t){var n=u(e.tokens.slice());o(function(e){var r=n[e][0],o=n[e].length>1?n[e][1]:n[e][0],s=n[e].length>2?n[e][2]:"";null===o?(t.line=t.line||[],t.line.push(r)):(t.block=t.block||[],t.block.push([r,o,s]))},0,n.length-1)}function S(e,t,r){var o=e.meta||t,s=!(!e.caseInsesitive&&!e.ci),l=n(i(e.tokens),function(e){return{word:e,meta:o,ci:s}});r.autocomplete=(r.autocomplete||[]).concat(l)}function O(e){e.Lex||(e.Lex={}),e.Syntax||(e.Syntax={});var n,r,o,s,i,u,a,c,p,m,h,g=e.Lex,k=e.Syntax,$=[g,k],y=$.length;for(h=0;y>h;){m=$[h++];for(o in m)m[Nt](o)&&(n=o.split(":"),r=n[1]&&hn(n[1]).length?hn(n[1]):null,n=hn(n[0]),n.length||(n=o,r=null),n!==o&&(m[n]=m[o],f(m,o),r&&(r=r[Vt](),s=m[n],i=t(s),rn===i?m[n].type||(m[n].type=r):(m[n]={type:r},"error"===r?(m[n].type="action",m[n].error=s):"group"===r?(m[n].type="sequence",m[n].tokens=s):"action"===r&&Zt===i?m[n][s]=!0:m[n].tokens=s))),g===m&&(pn&t(m[n])&&(m[n]={type:"simple",tokens:m[n]}),s=m[n],s.type&&(c=s.type=s.type[Vt](),"line-block"===c?(s.type="block",s.multiline=!1,s.escape=!1):"escaped-line-block"===c?(s.type="block",s.multiline=!1,s.escape="\\"):"escaped-block"===c&&(s.type="block",s.multiline=!0,s.escape="\\"))))}m=g;for(n in m)if(m[Nt](n))for(s=m[n];s.extend;)u=s.extend,f(s,"extend"),a=g[u],a&&(pn&t(a)&&(a=g[u]={type:"simple",tokens:a}),s=l(a,s));m=g;for(n in m)m[Nt](n)&&(s=m[n],s.type?(c=s.type=s.type[Vt](),"line-block"===c?(s.type="block",s.multiline=!1,s.escape=!1):"escaped-line-block"===c?(s.type="block",s.multiline=!1,s.escape="\\"):"escaped-block"===c&&(s.type="block",s.multiline=!0,s.escape="\\")):s["escaped-line-block"]?(s.type="block",s.multiline=!1,s.escape||(s.escape="\\"),s.tokens=s["escaped-line-block"],f(s,"escaped-line-block")):s["escaped-block"]?(s.type="block",s.multiline=!0,s.escape||(s.escape="\\"),s.tokens=s["escaped-block"],f(s,"escaped-block")):s["line-block"]?(s.type="block",s.multiline=!1,s.escape=!1,s.tokens=s["line-block"],f(s,"line-block")):s.comment?(s.type="comment",s.escape=!1,s.tokens=s.comment,f(s,"comment")):s.block?(s.type="block",s.tokens=s.block,f(s,"block")):s.simple?(s.type="simple",s.tokens=s.simple,f(s,"simple")):s.error?(s.type="action",s.action=["error",s.error,!!s["in-context"]],f(s,"error")):s[Nt]("context")?(s.type="action",s.action=[s.context?"context-start":"context-end",s.context,!!s["in-context"]],f(s,"context")):s.indent?(s.type="action",s.action=["indent",s.indent,!!s["in-context"]],f(s,"indent")):s.outdent?(s.type="action",s.action=["outdent",s.outdent,!!s["in-context"]],f(s,"outdent")):s.unique?(s.type="action",s.action=["unique",Zt&t(s.unique)?["_DEFAULT_",s.unique]:s.unique,!!s["in-context"]],f(s,"unique")):s.push?(s.type="action",s.action=["push",s.push,!!s["in-context"]],f(s,"push")):s[Nt]("pop")?(s.type="action",s.action=["pop",s.pop,!!s["in-context"]],f(s,"pop")):s.type="simple","action"===s.type?s.ci=!(!s.caseInsesitive&&!s.ci):"block"===s.type||"comment"===s.type?(s.multiline=s[Nt]("multiline")?!!s.multiline:!0,Zt&t(s.escape)||(s.escape=!1)):"simple"===s.type&&(s.autocomplete=!!s.autocomplete,s.meta=s.autocomplete&&Zt&t(s.meta)?s.meta:null,s.combine=s[Nt]("combine")?s.combine:"\\b",s.ci=!(!s.caseInsesitive&&!s.ci)));m=k;for(n in m)m[Nt](n)&&(s=m[n],rn!==t(s)||s.type?s.type&&(c=s.type=s.type[Vt](),"group"===c&&s.match?(i=t(s.match),Zt&i?(p=s.match[Vt](),"alternation"===p||"either"===p?(s.type="alternation",f(s,"match")):"sequence"===p||"all"===p?(s.type="sequence",f(s,"match")):"zeroorone"===p?(s.type="zeroOrOne",f(s,"match")):"zeroormore"===p?(s.type="zeroOrMore",f(s,"match")):"oneormore"===p?(s.type="oneOrMore",f(s,"match")):(s.type="sequence",f(s,"match"))):nn&i&&(s.type="repeat",s.repeat=s.match,f(s,"match"))):"either"===c?s.type="alternation":"all"===c&&(s.type="sequence")):s.ngram||s["n-gram"]?(s.type="ngram",s.tokens=s.ngram||s["n-gram"],s["n-gram"]?f(s,"n-gram"):f(s,"ngram")):s.sequence||s.all?(s.type="sequence",s.tokens=s.sequence||s.all,s.all?f(s,"all"):f(s,"sequence")):s.alternation||s.either?(s.type="alternation",s.tokens=s.alternation||s.either,s.either?f(s,"either"):f(s,"alternation")):s.zeroOrOne?(s.type="zeroOrOne",s.tokens=s.zeroOrOne,f(s,"zeroOrOne")):s.zeroOrMore?(s.type="zeroOrMore",s.tokens=s.zeroOrMore,f(s,"zeroOrMore")):s.oneOrMore&&(s.type="oneOrMore",s.tokens=s.oneOrMore,f(s,"oneOrMore")));return e}function q(e,t,r){var o,l,i,u,a,c,p,f,m,h,g,k,b=!1;if(c=new String(hn(e)),c.pos=0,1===c.length)h=""+e,t[h]||(t[h]={type:"simple",tokens:e}),e=h;else{for(o=[],l=[],i="",g=[];c.pos<c.length;)if(p=c[Gt](c.pos++),vn.test(p))if(i.length&&(b?(l.length&&(m=l[l.length-1],h=m+"."+i,t[h]||r[h]||(r[h]=s(t[m]||r[m]),r[h].modifier=i),l[l.length-1]=h),b=!1):"0"===i?(t[jt]||(t[jt]={type:"simple",tokens:0}),l.push(jt)):"^^"===i?(t[Ot]||(t[Ot]={type:"simple",tokens:ct}),l.push(Ot)):"^"===i?(t[qt]||(t[qt]={type:"simple",tokens:ft}),l.push(qt)):"$"===i?(t[Rt]||(t[Rt]={type:"simple",tokens:pt}),l.push(Rt)):(t[i]||r[i]||(t[i]={type:"simple",tokens:i}),l.push(i)),i=""),"."===p)b=!0;else if('"'===p||"'"===p)u=d(c,p,"\\",!0),u.length?(h=""+u,t[h]||(t[h]={type:"simple",tokens:u}),l.push(h)):(t[Lt]||(t[Lt]={type:"simple",tokens:""}),l.push(Lt));else if("/"===p)u=d(c,p,"\\",!0),f="",u.length&&(c.pos<c.length&&"i"===c[Gt](c.pos)&&(c.pos++,f="i"),h="/"+u+"/"+f,t[h]||(t[h]={type:"simple",tokens:y("^("+u+")",f)}),l.push(h));else if("*"===p||"+"===p||"?"===p)m=l[l.length-1],h=""+m+p,r[h]||(r[h]={type:"*"===p?"zeroOrMore":"+"===p?"oneOrMore":"zeroOrOne",tokens:[m]}),l[l.length-1]=h;else if("{"===p)a=d(c,"}",!1),a=n(a.split(","),hn),a[0]=a[0].length?parseInt(a[0],10)||0:0,0>a[0]&&(a[0]=0),2>a.length?a.push(a[0]):a[1]=a[1].length?parseInt(a[1],10)||Ut:Ut,0>a[1]&&(a[1]=0),m=l[l.length-1],h=""+m+["{",a[0],",",isFinite(a[1])?a[1]:"","}"].join(""),r[h]||(r[h]={type:"repeat",repeat:[a[0],a[1]],tokens:[m]}),l[l.length-1]=h;else{if("}"===p)continue;if("["===p)u=d(c,"]","\\",!0),h="["+u+"]",t[h]||(t[h]={type:"simple",tokens:y("^(["+("^"===u[Gt](0)?"^"+$(u.slice(1)):$(u))+"])")}),l.push(h);else{if("]"===p)continue;"|"===p?(b=!1,l.length>1?(h=""+l.join(" "),r[h]||(r[h]={type:"sequence",tokens:l}),o.push(h)):l.length&&o.push(l[0]),l=[]):"("===p?(g.push([l,o,i]),l=[],o=[],i=""):")"===p&&(l.length>1?(h=""+l.join(" "),r[h]||(r[h]={type:"sequence",tokens:l}),o.push(h)):l.length&&o.push(l[0]),l=[],o.length>1?(h=""+o.join(" | "),r[h]||(r[h]={type:"alternation",tokens:o})):o.length&&(h=o[0]),o=[],k=g.pop(),l=k[0],o=k[1],i=k[2],m=h,h="("+m+")",r[h]||(r[h]=s(t[m]||r[m])),l.push(h))}}else i+=p;i.length&&(b?(l.length&&(m=l[l.length-1],h=m+"."+i,t[h]||r[h]||(r[h]=s(t[m]||r[m]),r[h].modifier=i),l[l.length-1]=h),b=!1):"0"===i?(t[jt]||(t[jt]={type:"simple",tokens:0}),l.push(jt)):"^^"===i?(t[Ot]||(t[Ot]={type:"simple",tokens:ct}),l.push(Ot)):"^"===i?(t[qt]||(t[qt]={type:"simple",tokens:ft}),l.push(qt)):"$"===i?(t[Rt]||(t[Rt]={type:"simple",tokens:pt}),l.push(Rt)):(t[i]||r[i]||(t[i]={type:"simple",tokens:i}),l.push(i))),i="",l.length>1?(h=""+l.join(" "),r[h]||(r[h]={type:"sequence",tokens:l}),o.push(h)):l.length&&o.push(l[0]),l=[],o.length>1?(h=""+o.join(" | "),r[h]||(r[h]={type:"alternation",tokens:o}),e=h):o.length&&(e=o[0]),o=[]}return e}function R(e,s,l,a,c,p,f,m,h,g,k){var $,y,d,b,x,v,C=null,O=null,M=null;if(ct===e||ft===e||pt===e)return new P(e,ct===e?Ot:ft===e?qt:Rt,e,O);if(!1===e||0===e)return new P(mt,jt,0,O);if(""===e)return new P(ht,Lt,"",O);if(null===e)return new P(gt,Mt,Yt,O,M);if(nn&t(e)&&(d=e,e="NGRAM_"+d.join("_"),a[e]||(a[e]={type:"ngram",tokens:d})),e=""+e,m[e])return m[e];if(x=l[e]||a[e]||e,Zt&t(x)&&(x=q(x,l,a),x=l[x]||a[x]||null),!x)return null;if($=x.type?St[x.type[Vt]().replace($n,"")]||gt:gt,O=x.msg||null,M=x.modifier||null,y=x.tokens,gt&$){if(ct===y||ft===y||pt===y)return C=new P(y,e,y,O),m[e]=C,C;if(!1===y||0===y)return C=new P(mt,e,0,O),m[e]=C,C;if(""===y)return C=new P(ht,e,"",O),m[e]=C,C;if(null===y)return C=new P(gt,e,Yt,O,M),m[e]=C,C;if(!y)return null}return at&$?(x[Nt]("action")?"error"===x.action[0]?x.action[0]=X:"context-start"===x.action[0]?x.action[0]=tt:"context-end"===x.action[0]?x.action[0]=nt:"push"===x.action[0]?x.action[0]=rt:"pop"===x.action[0]?x.action[0]=ot:"unique"===x.action[0]?x.action[0]=st:"indent"===x.action[0]?x.action[0]=Z:"outdent"===x.action[0]&&(x.action[0]=et):x[Nt]("error")?x.action=[X,x.error,!!x["in-context"]]:x[Nt]("context")?x.action=[x.context?tt:nt,x.context,!!x["in-context"]]:x[Nt]("context-start")?x.action=[tt,x["context-start"],!!x["in-context"]]:x[Nt]("context-end")?x.action=[nt,x["context-end"],!!x["in-context"]]:x[Nt]("push")?x.action=[rt,x.push,!!x["in-context"]]:x[Nt]("pop")?x.action=[ot,x.pop,!!x["in-context"]]:x[Nt]("unique")?x.action=[st,Zt&t(x.unique)?["_DEFAULT_",x.unique]:x.unique,!!x["in-context"]]:x[Nt]("indent")?x.action=[Z,x.indent,!!x["in-context"]]:x[Nt]("outdent")&&(x.action=[et,x.outdent,!!x["in-context"]]),C=new P(at,e,x.action.slice(),O,M),C.ci=!!x.caseInsensitive||x.ci,m[e]=C):(y=i(y),gt&$?(x.autocomplete&&S(x,e,k),v=x[Nt]("combine")?x.combine:"\\b",C=new P(gt,e,_(e,y.slice(),s,v,!(!x.caseInsensitive&&!x.ci),p,f),O,M),m[e]=C):kt&$?($t===$&&E(x,g),C=new P($,e,w(e,y.slice(),s,p,f),O),C.mline=x[Nt]("multiline")?!!x.multiline:!0,C.esc=x[Nt]("escape")?x.escape:!1,C.inter=!!c[e+".inside"],$t===$&&x.interleave&&h.push(D(C)),M&&(C.modifier=M),m[e]=C):Et&$&&(_t===$?(b=u(y),C=n(b,function(t,n){return new P(_t,e+"_NGRAM_"+n,null,O,M)}),m[e]=C,o(function(e){C[e].token=i(r(b[e],function(e,t){return e.concat(R(t,s,l,a,c,p,f,m,h,g,k))},[]))},0,b.length-1)):(bt&$&&nn&t(x.repeat)?(C=new P(bt,e,null,O,M),C.min=x.repeat[0],C.max=x.repeat[1]):xt===$?(C=new P(xt,e,null,O,M),C.min=0,C.max=1):vt===$?(C=new P(vt,e,null,O,M),C.min=0,C.max=Ut):Ct===$?(C=new P(Ct,e,null,O,M),C.min=1,C.max=Ut):C=yt===$?new P(yt,e,null,O,M):new P(dt,e,null,O,M),m[e]=C,C.token=i(r(y,function(e,t){return e.concat(R(t,s,l,a,c,p,f,m,h,g,k))},[]))))),m[e]}function M(e){var n,o,l,i,u,a,c,p,f,m,h,g;return e.__parsed?e:(n=e.RegExpID||null,l=e.Extra?s(e.Extra):{},i=e.Style?s(e.Style):{},u=e.Lex?s(e.Lex):{},a=e.Syntax?s(e.Syntax):{},c={},p={},f={},h={},g={},m=[],o=e.Parser?s(e.Parser):[],e=O({Style:i,Lex:u,Syntax:a,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:l,__parsed:0}),e.$parser=r(o,function(e,r){var o=R(r,n,u,a,i,c,p,f,m,h,g)||null;return o&&(nn&t(o)?e=e.concat(o):e.push(o)),e},[]),e.$interleaved=m&&m.length?m:null,e.$comments=h,e.$autocomplete=g&&g.autocomplete&&g.autocomplete.length?g.autocomplete:null,e.__parsed=1,e)}function j(e,n,r,o,s){var l,i,u=this;l=u.type=e,u.name=n,u.pattern=r,i=u.ptype=o||Zt,u.key=s||0,it===l?u.key=!1!==s:ut===l?u.pattern[0]=new j(it,n+"_Start",r[0],null,!1):Yt===i?u.pattern=null:sn===i&&(u.pattern=sn&t(r)?[r,0]:[r[0],r[1]||0])}function L(e,n,r){var o,s,l,i,u,a,c,p,f,m,h,g=e,k=g.type,$=g.pattern,y=g.key;if(ut===k){if(o=g.name,l=$[0],i=$[1],a=L(l,n,r))return u=i[a[0]],p=t(u),f=l.pattern[a[0]].ptype,sn===f&&un&p&&(c=Jt&p?a[1][u+1]:b(u,a[1]),u=new j(lt,o+"_End",c,c.length>1?Zt:en)),u}else if(it===k){for(m=0,h=$.length;h>m;m++)if(c=L($[m],n,r))return y?[m,c[1]]:c}else{if(s=g.ptype,Yt===s)return!1!==r&&n.end(),[y,""];if(sn===s){if(c=n.s.slice(n.pos).match($[0]),c&&0===c.index)return!1!==r&&n.mov(c[$[1]||0].length),[y,$[1]>0?c[$[1]]:c]}else if(tn===s){if(c=n.s[Gt](n.pos)||null,c&&-1<$.indexOf(c))return!1!==r&&n.mov(1),[y,c]}else if(en===s){if(c=n.s[Gt](n.pos)||null,$===c)return!1!==r&&n.mov(1),[y,c]}else if(Zt===s&&(h=$.length,$===n.s.substr(n.pos,h)))return!1!==r&&n.mov(h),[y,$]}return!1}function P(e,t,n,r,o){var s=this;s.type=e,s.name=t,s.token=n,s.modifier=o||null,s.pos=null,s.msg=r||null,s.$msg=null,s.status=0,s.ci=!1,s.mline=!0,s.esc=!1,s.inter=!1,s.found=0,s.min=0,s.max=1,s.$id=null}function D(e,t,n){var r=new P(e.type,e.name,e.token,e.msg,e.modifier);return r.ci=e.ci,r.mline=e.mline,r.esc=e.esc,r.inter=e.inter,r.found=e.found,r.min=e.min,r.max=e.max,t&&(r.status|=W),n&&(r.modifier=n),r}function N(e){var t=e.name;return e.$msg?e.$msg:e.status&W?'Token "'+t+'" Expected':'Syntax Error: "'+t+'"'}function z(e,t,n,r,o,s,l){e.err[t+"_"+n+"_"+r+"_"+o+"_"+s.name]=[t,n,r,o,l||N(s)]}function A(e,t,n,r){var o=e.type,s=Et&o?T:kt&o?I:F;return s(e,t,n,r)}function B(e,n,r,o){var s,l,i,u,a,c,p,f,m,h,g,k,$,y,d,x,v=e,C=v.token||null,_=v.ci,w=v.name,E=!(r.status&U);if(v.status=0,v.$msg=null,E||!C)return!0;if(x=!!(kt&o.T),x&&!o.block)return!0;if(s=C[0],l=C[1],$=C[2],c=r.queu,p=r.symb,f=r.ctx,a=v.msg,x?(d=o.block.match||o.block.str,m=o.block.pos[0][0],h=o.block.pos[0][1],g=o.block.pos[o.block.pos.length-1][2],k=o.block.pos[o.block.pos.length-1][3]):(d=o.match||o.str,m=o.pos[0],h=o.pos[1],g=o.pos[2],k=o.pos[3]),X===s)return!a&&Zt&t(l)&&(a=l),v.$msg=a?b(a,d,!0):'Error "'+w+'"',z(r,m,h,g,k,v,N(v)),v.status|=Y,!1;if(Z===s);else if(et===s);else if(nt===s)f.length&&f.shift();else if(tt===s)f.unshift({symb:{},scop:{},queu:[]});else if(st===s){if($){if(!f.length)return!0;p=f[0].symb}if(o){if(i=l[1],u=l[0],i=Jt===t(i)?o.match[i]:b(i,d,!0),_&&(i=i[Vt]()),p[Nt](u)||(p[u]={}),p[u][Nt](i))return v.$msg=a?b(a,i,!0):'Duplicate "'+i+'"',y=N(v),z(r,p[u][i][0],p[u][i][1],p[u][i][2],p[u][i][3],v,y),z(r,m,h,g,k,v,y),v.status|=Y,!1;p[u][i]=[m,h,g,k]}}else if(ot===s){if($){if(!f.length)return!0;c=f[0].queu}if(l){if(l=b(l,d),_&&(l=l[Vt]()),!c.length||l!==c[0][0])return c.length?(v.$msg=a?b(a,[c[0][0],l],!0):'Tokens do not match "'+c[0][0]+'","'+l+'"',y=N(v),z(r,c[0][1],c[0][2],c[0][3],c[0][4],v,y),z(r,m,h,g,k,v,y),c.shift()):(v.$msg=a?b(a,["",l],!0):'Token does not match "'+l+'"',y=N(v),z(r,m,h,g,k,v,y)),v.status|=Y,!1;c.shift()}else c.shift()}else if(rt===s&&l){if($){if(!f.length)return!0;c=f[0].queu}l=b(l,d),_&&(l=l[Vt]()),c.unshift([l,m,h,g,k])}return!0}function F(e,t,n,r){var o=e,s=o.token,l=o.modifier,i=o.type,u=o.name,a=n.line,c=t.pos,p=null,f=!1;return o.$msg=o.msg||null,o.status&=K,ct===i?f=0===a:ft===i?f=t.sol():pt===i?(t.spc(),t.eol()?f=u:t.bck(c)):mt===i?(o.status=0,f=!0):ht===i?(o.status&W&&t.spc()&&!t.eol()?(t.bck(c),o.status|=Y):f=!0,o.status&=J):Yt===s?(t.end(),f=l||u):(p=L(s,t))&&(p=p[1],f=l||u),!1!==f&&(r.id=u,r.T=i,r.type=f,r.match=p,r.str=t.sel(c,t.pos),r.pos=[a,c,a,t.pos]),!f&&o.status&&o.$msg&&(o.$msg=b(o.$msg,u,!0)),f}function I(e,t,n,r){var o,s,l,i,u,a,p,f,m,h,g,k,$,y,d,x,v,C,_,w=e,E=w.name,S=w.type,O=w.modifier,q=w.token,R=w.mline,M=w.inter,j=M?E+".inside":E,P=w.esc,N=!!P,z="",A="",B="",F="",I=w.$id||E,T=n.stack;if(w.status&=K,w.$msg=w.msg||null,C=n.line,_=t.pos,$t===S&&(w.status&=J),y=w.status&W,l=0,i=0,n.block&&n.block.name===E?(i=1,l=1,$=j,o=n.block.end,f=n.block.sp,h=n.block.ip,m=n.block.ep,z=n.block.s,A=n.block.i):!n.block&&(o=L(q,t))&&(i=1,$=E,d=t.pos,f=[C,_],h=[[C,d],[C,d]],m=[C,d],z=t.sel(_,d),A="",F="",n.block={name:E,end:o,sp:f,ip:h,ep:m,s:z,i:A,e:F}),i){if(v=T.length,s=Yt===o.type,M){if(s&&l&&t.sol())return w.status&=J,n.block=null,!1;if(!l)return d=t.pos,r.T=S,r.id=E,r.type=O||$,r.str=t.sel(_,d),r.match=null,r.pos=[C,_,C,d],c(T,v,D(w,y),"$id",I),O||$}if(u=L(o,t),p=R,a=0,u)$=s?j:E,F=t.cur().slice(B.length);else for(x=t.pos,g=!1;!t.eol();){if(d=t.pos,!g&&L(o,t)){M&&t.pos>d&&d>x?($=j,t.bck(d),a=1):($=E,u=1),F=t.cur().slice(B.length);break}k=t.nxt(1),B+=k,g=N&&!g&&P===k}return p=R||N&&g,A+=B,h[1]=[C,d],m=[C,t.pos],u||!p&&!a?n.block=null:(n.block.ip=h,n.block.ep=m,n.block.i=A,n.block.e=F,c(T,v,D(w,y),"$id",I)),r.T=S,r.id=E,r.type=O||$,r.str=t.sel(_,t.pos),r.match=null,r.pos=[C,_,m[0],m[1]],n.block||(r.block={str:z+A+F,match:[z+A+F,A,z,F],part:[z,A,F],pos:[[f[0],f[1],h[0][0],h[0][1]],[h[0][0],h[0][1],h[1][0],h[1][1]],[h[1][0],h[1][1],m[0],m[1]]]}),O||$}return w.status&&w.$msg&&(w.$msg=b(w.$msg,E,!0)),!1}function T(e,t,n,r){var o,s,l,i,u,a,p,f,h,g,k,$,y,d,b,x=e,v=x.type,C=x.name,_=x.token,w=_.length,E=x.modifier;if(x.$msg=x.msg||null,x.status&=K,$=n.stack,f=t.pos,h=$.length,a=0,p=0,yt===v){for(x.status|=W,y=[],g=0;w>g;g++){if(o=D(_[g],1,E),s=A(o,t,n,r),o.status&W&&(a++,y.push(N(o))),!1!==s)return s;o.status&Y&&(p++,t.bck(f))}return a>0?x.status|=W:x.status&=J,w===p&&a>0?x.status|=Y:x.status&=K,x.status&&!x.$msg&&y.length&&(x.$msg=y.join(" | ")),!1}if(wt&v){if(b=!!(v&dt),b?x.status|=W:x.status&=J,d=C+"_"+m(),o=D(_[0],b,E),s=A(o,t,n,r),!1!==s){if(!0!==s||mt!==o.type)for(g=w-1;g>0;g--)k=D(_[g],1,E),c($,h+w-g-1,k,"$id",d);return s}return o.status&Y?(b?x.status|=Y:x.status&=K,t.bck(f)):b&&o.status&W&&(x.status|=Y),x.status&&!x.$msg&&(x.$msg=N(o)),!1}for(l=x.found,i=x.min,u=x.max,x.status&=J,d=C+"_"+m(),y=[],g=0;w>g;g++){if(o=D(_[g],1,E),s=A(o,t,n,r),!1!==s){if(++l,u>=l)return x.found=l,c($,h,D(x),"$id",d),x.found=0,s;break}o.status&W&&(a++,y.push(N(o))),o.status&Y&&t.bck(f)}return i>l?x.status|=W:x.status&=J,l>u||i>l&&a>0?x.status|=Y:x.status&=K,x.status&&!x.$msg&&y.length&&(x.$msg=y.join(" | ")),!1}function V(e,t){var n=function o(e,t){return{startState:function(){return o.$parser.state()},copyState:function(e){return o.$parser.state(0,e)},token:function(e,t){var n=dn._(e),r=o.$parser.token(n,t).type;return e.pos=n.pos,n.dispose(),r},indent:function(n,r,s){return o.$parser.indent(n,r,s,e,t)},lineComment:o.$parser.LC,blockCommentStart:o.$parser.BCS,blockCommentEnd:o.$parser.BCE,blockCommentContinue:o.$parser.BCC,blockCommentLead:o.$parser.BCL,electricInput:o.$parser.$grammar.$extra.electricInput||!1,electricChars:o.$parser.$grammar.$extra.electricChars||!1,fold:o.$parser.$grammar.$extra.fold||!1}};return n.$id=h("codemirror_grammar_mode"),n.$parser=new Sn(M(e),t),n.supportGrammarAnnotations=!1,n.validator=function(e){if(!(n.$parser&&n.supportGrammarAnnotations&&e&&e.length))return[];var t,r,o=[],s=_n.Pos,l=n.$parser.parse(e,U);if(!l)return o;for(t in l)l[Nt](t)&&(r=l[t],o.push({message:r[4]||"Syntax Error",severity:"error",from:s(r[0],r[1]),to:s(r[2],r[3])}));return o},n.autocomplete_renderer=function(e,t,n){var r=n.text,o=n.meta,s=n.start,l=n.end,i=t.list.maxlen-r.length-o.length+5;e.innerHTML=['<span class="cmg-autocomplete-keyword">',r.slice(0,s),'<strong class="cmg-autocomplete-keyword-match">',r.slice(s,l),"</strong>",r.slice(l),"</span>",new Array(1+i).join("&nbsp;"),'<strong class="cmg-autocomplete-keyword-meta">',o,"</strong>","&nbsp;"].join(""),e.className=(e.className&&e.className.length?e.className+" ":"")+"cmg-autocomplete-keyword-hint",e.style.position="relative",e.style.boxSizing="border-box",e.style.width="100%",e.style.maxWidth="100%"},n.autocomplete=function(e,t){var o,s,l,i,u,a,c,p,f=[],m=_n.Pos,h=e.getCursor(),g=h.ch,k=g,$=g,y=$,d=0;if(n.$parser&&n.$parser.$grammar.$autocomplete){for(t=t||{},u=t.word||wn,o=e.getLine(h.line),p=t[Nt]("prefixMatch")?!!t.prefixMatch:!0;k&&u.test(o[Gt](k-1));)--k;if(!p)for(;y<o.length&&u.test(o[Gt](y));)++y;y>k&&(c=t[Nt]("caseInsensitiveMatch")?!!t.caseInsensitiveMatch:!1,a=t.renderer||n.autocomplete_renderer,s=o.slice(k,y),l=s[Vt](),i=s.length,r(n.$parser.$grammar.$autocomplete,function(e,t){var n,r,o,u,f,m,h,g=t.word,k=g.length;return k>=i&&(n=t.meta,r=!!g.ci,h=c||r,h?(f=g[Vt](),m=l):(f=g,m=s),(u=f.indexOf(m))>=0&&(!p||0===u)&&(o=h?g.indexOf(s):u,k+n.length>d&&(d=k+n.length),e.push({text:g,name:g,meta:n,start:0>o?u:o,end:(0>o?u:o)+s.length,match:s,displayText:g+"		["+n+"]",render:a,score:1e3-10*(k-i)-5*(0>o?u+3:o)}))),e},f),f.length&&(f=f.sort(En)),f.maxlen=d)}return{list:f,from:m(h.line,k),to:m(h.line,y)}},n.dispose=function(){n.$parser&&n.$parser.dispose(),n.$parser=null},n}var G=1,U=2,H=32,W=4,Y=8,J=~W,K=~Y,Q=W|Y,X=4,Z=8,et=16,tt=32,nt=64,rt=128,ot=256,st=512,lt=2,it=4,ut=8,at=4,ct=8,pt=16,ft=32,mt=128,ht=256,gt=512,kt=1024,$t=1025,yt=2048,dt=4096,bt=8192,xt=8193,vt=8194,Ct=8195,_t=16384,wt=dt|_t,Et=yt|dt|bt|_t,St={action:at,simple:gt,block:kt,comment:$t,alternation:yt,sequence:dt,repeat:bt,zeroorone:xt,zeroormore:vt,oneormore:Ct,ngram:_t},Ot="$|SOF|$",qt="$|SOL|$",Rt="$|EOL|$",Mt="$|ENDLINE|$",jt="$|EMPTY|$",Lt="$|NONSPACE|$",Pt=void 0,Dt="prototype",Nt="hasOwnProperty",zt="propertyIsEnumerable",At=Object[Dt],Bt=At.toString,Ft=Object.create,It=Math.max,Tt=Math.min,Vt="toLowerCase",Gt="charAt",Ut=1/0,Ht=4,Wt=8,Yt=16,Jt=32,Kt=33,Qt=34,Xt=64,Zt=128,en=129,tn=130,nn=256,rn=512,on=1024,sn=2048,ln=4096,un=Zt|Jt,an=Zt|nn,cn=sn|nn,pn=Zt|nn|sn,fn={"[object Number]":Jt,"[object String]":Zt,"[object Array]":nn,"[object RegExp]":sn,"[object Date]":ln,"[object Function]":on,"[object Object]":rn},mn=/^\s+|\s+$/g,hn=String[Dt].trim?function(e){return e.trim()}:function(e){return e.replace(mn,"")},gn=function(e,t){return t.length-e.length},kn=/\r\n|\r|\n/g,$n=/[\-_]/g,yn=0,dn=k({constructor:function(e){var t=this;t._=null,t.s=e?""+e:"",t.start=t.pos=0,t.lCP=t.lCV=0,t.lS=0},_:null,s:"",start:0,pos:0,lCP:0,lCV:0,lS:0,dispose:function(){var e=this;return e._=null,e.s=null,e.start=null,e.pos=null,e.lCP=null,e.lCV=null,e.lS=null,e},new_:function(e){var t=this;return t.s=""+e,t.start=t.pos=0,t.lCP=t.lCV=0,t.lS=0,t},sol:function(){return 0===this.pos},eol:function(){return this.pos>=this.s.length},end:function(){var e=this;return e.pos=e.s.length,e},mov:function(e){var t=this;return t.pos=0>e?It(0,t.pos+e):Tt(t.s.length,t.pos+e),t},bck:function(e){var t=this;return t.pos=It(0,e),t},sft:function(){var e=this;return e.start=e.pos,e},nxt:function(e,t){var n,r,o=this,s=o.s,l="";if(!0===e)for(t=t||dn.$RE_NONSPC$;o.pos<s.length&&t.test(n=s.charAt(o.pos++));)l+=n;else for(e=e||1,r=0;r++<e&&o.pos<s.length;)l+=s.charAt(o.pos++);return l.length?l:null},cur:function(e){var t=this,n=t.s.slice(t.start,t.pos);return e&&(t.start=t.pos),n},sel:function(e,t){return this.s.slice(e,t)},spc:function(e,t){var n,r=this,o=r.pos,s=r.s.slice(o);return(n=s.match(t||dn.$RE_SPC$))?(!1!==e&&r.mov(n[0].length),n[0]):null},col:function(e){var t=this;return e=e||1,t.lCP<t.start&&(t.lCV=dn.col(t.s,t.start,e,t.lCP,t.lCV),t.lCP=t.start,t._&&(t._.start=t.start,t._.lastColumnPos=t.lCP,t._.lastColumnValue=t.lCV,t._.lineStart=t.lS)),t.lCV-(t.lS?dn.col(t.s,t.lS,e):0)},ind:function(e){var t=this;return e=e||1,dn.col(t.s,null,e)-(t.lS?dn.col(t.s,t.lS,e):0)}});dn.$RE_SPC$=/^[\s\u00a0]+/,dn.$RE_NONSPC$=/[^\s\u00a0]/,dn.col=function(e,t,n,r,o){var s,l;for(null===t&&(t=e.search(dn.$RE_NONSPC$),-1===t&&(t=e.length)),s=r||0,l=o||0;t>s;++s)l+="	"===e.charAt(s)?n-l%n:1;return l},dn._=function(e){var t=new dn;return t._=e,t.s=""+e.string,t.start=e.start,t.pos=e.pos,t.lCP=e.lastColumnPos,t.lCV=e.lastColumnValue,t.lS=e.lineStart,t};{var bn=k({constructor:function On(e,t){var n=this;n.id=e?h("state"):"state",t instanceof On?(n.line=t.line,n.status=t.status,n.stack=t.stack.slice(),n.block=t.block,n.status&U?(n.queu=t.queu,n.symb=t.symb,n.scop=t.scop,n.ctx=t.ctx,n.err=t.err):(n.queu=null,n.symb=null,n.scop=null,n.ctx=null,n.err=null)):(n.line=-1,n.status=t||0,n.stack=[],n.block=null,n.status&U?(n.queu=[],n.symb={},n.scop={},n.ctx=[],n.err={}):(n.queu=null,n.symb=null,n.scop=null,n.ctx=null,n.err=null))},id:null,line:0,status:0,block:null,stack:null,queu:null,symb:null,scop:null,ctx:null,err:null,dispose:function(){var e=this;return e.id=null,e.line=null,e.status=null,e.stack=null,e.block=null,e.queu=null,e.symb=null,e.scop=null,e.ctx=null,e.err=null,e},toString:function(){var e=this;return e.id+"_"+e.line+"_"+(e.block?e.block.name:"0")}}),xn=/([.*+?^${}()|[\]\/\\\-])/g,vn=/^([.\[\]{}()*+?\/|'"]|\s)/,Cn=k({constructor:function(e,t,n){var r=this;r.$grammar=e,r.$DEF=t||null,r.$ERR=n||null,r.DEF=r.$DEF,r.ERR=r.$ERR},$grammar:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=null,e.$tok$=e.$typ$=e.$nam$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},state:function(e,t){var n;return arguments.length>1&&t instanceof bn?(n=new bn(e,t),n.$eol$=t.$eol$):(n=new bn(e,t),n.$eol$=!0),n},token:function(e,t){var n,r,o,s,l,i,u,a,c,f,m,h=this,g=h.$grammar,k=g.Style,$=h.DEF,y=h.ERR,d={},b=h.$n$,x=h.$t$,v=h.$v$,C=g.$interleaved,_=g.$parser,w=_.length,E=C?C.length:0;if(t.$eol$&&e.sol()&&(t.$eol$=!1,t.line++),t.$actionerr$=!1,i=t.stack,u=t.line,a=e.pos,m=!0,l=!1,s=!1,i.length&&pt===i[i.length-1].type&&e.sol()&&i.pop(),i.length&&ht===i[i.length-1].type||!e.spc()||(m=!1),d[b]=null,d[x]=$,d[v]=null,m)for(o={T:0,id:null,type:null,match:null,str:"",pos:null},c=0;m&&(i.length||w>c)&&!e.eol();){if(E){for(f=0;E>f;f++)if(n=C[f],s=A(n,e,t,o),!1!==s){m=!1;break}if(!m)break}if(n=i.length?i.pop():_[c++],s=A(n,e,t,o),!1!==s){if(i.length&&at===i[i.length-1].type)for(;i.length&&at===i[i.length-1].type;)r=i.pop(),B(r,e,t,o),r.status&Y&&(t.$actionerr$=!0);else if(i.length>1&&e.eol()&&kt&i[i.length-1].type&&t.block&&t.block.name===i[i.length-1].name)for(f=i.length-2;f>=0&&at===i[f].type;)r=i[f--],B(r,e,t,o),r.status&Y&&(t.$actionerr$=!0);if(!0!==s){m=!1;break}}else if(n.status&Q){p(i,"$id",n.$id),e.nxt(!0)||e.spc(),l=!0,m=!1;break}}return m&&e.nxt(!0),d[v]=e.cur(1),!1!==s?(s=k[s]||$,d[b]=n.name):l?(s=y,t.status&U&&z(t,u,a,u,e.pos,n)):s=$,d[x]=s,t.$eol$=e.eol(),d},tokenize:function(e,t){var n=this,r=[];if(e.eol())t.line++;else for(;!e.eol();)r.push(n.token(e,t));return r},parse:function(e,t){var n,r,s,l,i,u=this,a=(e||"").split(kn),c=a.length,p=null;return t=t||G,s=!!(t&U),l=!!(t&G),n=u.state(0,t),n.$full_parse$=!0,r=new dn,o(function(e){a[e]+="\n"},0,c-2),l?p=o(t&H?function(e,t){t._=t._.concat(u.tokenize(r.new_(a[e]),n,e))}:function(e,t){t._.push(u.tokenize(r.new_(a[e]),n,e))},0,c-1,{_:[]})._:o(function(e){if(r.new_(a[e]),r.eol())n.line++;else for(;!r.eol();)u.token(r,n)},0,c-1),i=l&&s?{tokens:p,errors:n.err}:l?p:n.err,r.dispose(),n.dispose(),i
},indent:function(){}}),_n=CodeMirror||{Pass:{toString:function(){return"CodeMirror.Pass"}}},wn=/[\w$]/,En=function(e,t){return t.score-e.score},Sn=k(Cn,{constructor:function(e,t){var n=this;Cn.call(n,e,null,"error"),n.DEF=t||n.$DEF,n.ERR=e.Style.error||n.$ERR,n.LC=e.$comments.line?e.$comments.line[0]:null,n.BCS=e.$comments.block?e.$comments.block[0][0]:null,n.BCE=e.$comments.block?e.$comments.block[0][1]:null,n.BCC=n.BCL=e.$comments.block?e.$comments.block[0][2]:null},LC:null,BCS:null,BCE:null,BCL:null,BCC:null,dispose:function(){var e=this;return e.LC=e.BCS=e.BCE=e.BCL=e.BCC=null,Cn[Dt].dispose.call(e)},indent:function(e,t,n,r){var o=(r.indentUnit||4,_n.Pass);return o}});e.CodeMirrorGrammar={VERSION:"2.5.0",clone:s,extend:l,pre_process:O,parse:M,getMode:V}}return e.CodeMirrorGrammar});