/**
*
*   CodeMirrorGrammar
*   @version: 2.5.0
*
*   Transform a grammar specification in JSON format, into a syntax-highlight parser mode for CodeMirror
*   https://github.com/foo123/codemirror-grammar
*
**/!function(e,t,n){"use strict";var r,o="object"==typeof module&&module.exports,l="function"==typeof define&&define.amd;o?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||n.call(e,{NODE:module})||1:l&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,r,o){return n.call(e,{AMD:o})}):t in e||(e[t]=r=n.call(e,{})||1)&&l&&define(t,[],function(){return r})}(this,"CodeMirrorGrammar",function(e){"use strict";function t(e){var t=0;return null===e?t=Jt:!0===e||!1===e||e instanceof Boolean?t=Zt:Dt===e?t=Yt:(t=mn[Ft.call(e)]||Wt,t=Kt===t||e instanceof Number?isNaN(e)?Xt:isFinite(e)?Kt:Qt:en===t||e instanceof String?1===e.length?tn:en:rn===t||e instanceof Array?rn:sn===t||e instanceof RegExp?sn:un===t||e instanceof Date?un:ln===t||e instanceof Function?ln:on===t?on:Wt),t}function n(e,t,n,r){var o,l,s,i,u,a,c=e.length;if(arguments.length<4&&(r=c-1),0>r&&(r+=c),arguments.length<3&&(n=0),n>r)return[];if(n===r)return[t(e[n],n,n,r)];if(s=r-n+1,a=new Array(s),6>s){for(a[0]=t(e[n],n,n,r),a[1]=t(e[n+1],n+1,n,r),l=n+2;r>=l;l++)a[l-n]=t(e[l],l,n,r);return a}for(i=15&s,u=1&i,u&&(a[0]=t(e[n],n,n,r)),o=u;i>o;o+=2)l=n+o,a[o]=t(e[l],l,n,r),a[o+1]=t(e[l+1],l+1,n,r);for(o=i;s>o;o+=16)l=n+o,a[o]=t(e[l],l,n,r),a[o+1]=t(e[l+1],l+1,n,r),a[o+2]=t(e[l+2],l+2,n,r),a[o+3]=t(e[l+3],l+3,n,r),a[o+4]=t(e[l+4],l+4,n,r),a[o+5]=t(e[l+5],l+5,n,r),a[o+6]=t(e[l+6],l+6,n,r),a[o+7]=t(e[l+7],l+7,n,r),a[o+8]=t(e[l+8],l+8,n,r),a[o+9]=t(e[l+9],l+9,n,r),a[o+10]=t(e[l+10],l+10,n,r),a[o+11]=t(e[l+11],l+11,n,r),a[o+12]=t(e[l+12],l+12,n,r),a[o+13]=t(e[l+13],l+13,n,r),a[o+14]=t(e[l+14],l+14,n,r),a[o+15]=t(e[l+15],l+15,n,r);return a}function r(e,t,n,r,o){var l,s,i,u,a,c=e.length,p=n;if(arguments.length<5&&(o=c-1),0>o&&(o+=c),arguments.length<4&&(r=0),r>o)return p;if(r===o)return t(p,e[r],r);if(i=o-r+1,6>i){for(p=t(t(p,e[r],r),e[r+1],r+1),s=r+2;o>=s;s++)p=t(p,e[s],s);return p}for(u=15&i,a=1&u,a&&(p=t(p,e[r],r)),l=a;u>l;l+=2)s=r+l,p=t(t(p,e[s],s),e[s+1],s+1);for(l=u;i>l;l+=16)s=r+l,p=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(p,e[s],s),e[s+1],s+1),e[s+2],s+2),e[s+3],s+3),e[s+4],s+4),e[s+5],s+5),e[s+6],s+6),e[s+7],s+7),e[s+8],s+8),e[s+9],s+9),e[s+10],s+10),e[s+11],s+11),e[s+12],s+12),e[s+13],s+13),e[s+14],s+14),e[s+15],s+15);return p}function o(e,t,n,r){if(t>n)return r;if(t===n)return e(t,r,t,n),r;var o,l,s,i,u=n-t+1;if(6>u){for(e(t,r,t,n),e(t+1,r,t,n),l=t+2;n>=l;l++)e(l,r,t,n);return r}for(s=15&u,i=1&s,i&&e(t,r,t,n),o=i;s>o;o+=2)l=t+o,e(l,r,t,n),e(++l,r,t,n);for(o=s;u>o;o+=16)l=t+o,e(l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n);return r}function l(e,n){var r,o,s,i,u=t(e),a=0;if(Kt===t(n)?n>0?(a=n,n=!0):n=!1:n=!1!==n,on===u){o={};for(s in e)e[zt](s)&&e[At](s)&&(r=t(e[s]),o[s]=on===r?n?l(e[s],a>0?a-1:n):e[s]:rn===r?n?l(e[s],a>0?a-1:n):e[s].slice():un===r?new Date(e[s]):en&r?e[s].slice():Kt&r?0+e[s]:e[s])}else if(rn===u)for(i=e.length,o=new Array(i),s=0;i>s;s++)r=t(e[s]),o[s]=on===r?n?l(e[s],a>0?a-1:n):e[s]:rn===r?n?l(e[s],a>0?a-1:n):e[s].slice():un===r?new Date(e[s]):en&r?e[s].slice():Kt&r?0+e[s]:e[s];else o=un===u?new Date(e):en&u?e.slice():Kt&u?0+e:e;return o}function s(){var e,n,r,o,i,u,a,c,p,f,m=arguments,h=m.length;if(1>h)return null;for(n=l(m[0]),r=1;h>r;r++)if(e=m[r])for(o in e)if(e[zt](o)&&e[At](o))if(n[zt](o)&&n[At](o)){if(p=t(n[o]),f=t(e[o]),on===p&&on===f)n[o]=s(n[o],e[o]);else if(rn===p&&rn===f){if(a=n[o],c=e[o],u=c.length,!u)continue;if(a.length)for(i=0;u>i;i++)0>a.indexOf(c[i])&&a.push(c[i]);else n[o]=c.slice()}}else n[o]=l(e[o]);return n}function i(e,n){return n||rn!==t(e)?[e]:e}function u(e,n){return e=i(e),(n||rn!==t(e[0]))&&(e=[e]),e}function a(e,n){return en&t(n)&&en&t(e)&&n.length&&n.length<=e.length&&n===e.substr(0,n.length)}function c(e,t,n,r,o){return r&&o&&(n[r]=o),t<e.length?e.splice(t,0,n):e.push(n),e}function p(e,t,n){if(t&&n)for(;e.length&&e[e.length-1]&&e[e.length-1][t]===n;)e.pop();else e.length=0;return e}function f(e,t,n){return n?e[t]=Dt:delete e[t],e}function m(){return++yn}function h(e){return(e||"uuid")+"_"+ ++yn+"_"+(new Date).getTime()}function g(){var e,n,r,o,l,s,i=arguments,u=i.length;for(e=i[0]||{},l=1;u>l;l++)if(n=i[l],on===t(n))for(o in n)n[zt](o)&&n[At](o)&&(r=n[o],s=t(r),e[o]=Kt&s?0+r:un&s?new Date(r):cn&s?r.slice():r);return e}function $(e,t){var n,r=arguments.length,o="constructor";return 0===r?(e=Object,t={}):1===r?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[zt](o)||(t[o]=function(){}),n=t[o],delete t[o],n[Nt]=g(It(e[Nt]),t),n[Nt][o]=n,n}function k(e){return e.replace(vn,"\\$1")}function d(e,t){return new RegExp(e,t||"")}function y(e,t,n,r){var o,l,s,i,u=e.pos,a=e.length,c="",p=!!n;if(p){for(r=!!r,l=!1,i=0;a>u&&(o=e[Ut](u++),t!==o||l);)s=n===o,l=!l&&s,r?(s&&i++,(!s||2&i)&&(c+=o,i=0)):c+=o;2&i&&(c+=n)}else for(;a>u&&(o=e[Ut](u++),t!==o);)c+=o;return e.pos=u,c}function b(e,n,r){var o,l,s,i,u,a=!0===r?0:1;for(en&t(n)&&(n=[n,n,n],a=0),l=e.length,u="",o=0;l>o;)s=e[Ut](o),l>o+1&&"$"===s?(i=e.charCodeAt(o+1),36===i?(u+="$",o+=2):i>=48&&57>=i?(u+=n[a+i-48]||"",o+=2):(u+=s,o+=1)):(u+=s,o+=1);return u}function x(e,n,r){if(!e||(Kt|sn)&t(e))return e;var o,l=n?n.length||0:0;if(l&&n===e.substr(0,l)){var s,i,u,o,a,c=e.substr(l),p=c[Ut](0),f="";for(o=c.length;o--&&(a=c[Ut](o),p!==a);)"i"===a.toLowerCase()&&(f="i");return s=c.substring(1,o),i="^("+s+")",r[i]||(u=d(i,f),r[i]=u),r[i]}return e}function v(e,r,o){var l,s="";return en&t(r)&&(s=r),l=n(e.sort($n),k).join("|"),[d("^("+l+")"+s,o?"i":""),1]}function C(e,n,r,o){var l=t(n);if(Kt===l)return n;if(o[e])return o[e];r=r||0;var s,i=0;return n&&n.isCharList&&(i=1,f(n,"isCharList")),s=Jt===l?new L(it,e,n,Jt,r):tn===l?new L(it,e,n,tn,r):pn&l?new L(it,e,n,sn,r):en&l?new L(it,e,n,i?nn:en,r):n,o[e]=s}function _(e,n,r,o,l,s,u){if(u[e])return u[e];var c,p,f,m,h,g,$,k=0,d=0,y=1;if(c=i(n),f=c.length,1===f)$=C(e,x(c[0],r,s),0,u);else if(f>1){for(m=(f>>>1)+1,p=0;m>=p;p++)h=t(c[p]),g=t(c[f-1-p]),(tn!==h||tn!==g)&&(y=0),rn&h||rn&g?k=1:(sn&h||sn&g||a(c[p],r)||a(c[f-1-p],r))&&(d=1);if(!y||o&&en&t(o))if(!o||k||d)if(k||d){for(p=0;f>p;p++)c[p]=rn&t(c[p])?_(e+"_"+p,c[p],r,o,l,s,u):C(e+"_"+p,x(c[p],r,s),p,u);$=f>1?new L(ut,e,c):c[0]}else{for(c=c.sort($n),p=0;f>p;p++)c[p]=C(e+"_"+p,x(c[p],r,s),p,u);$=f>1?new L(ut,e,c):c[0]}else $=C(e,v(c,o,l),0,u);else c=c.slice().join(""),c.isCharList=1,$=C(e,c,0,u)}return u[e]=$}function w(e,n,r,l,s){if(s[e])return s[e];var i=u(n),c=[],p=[];return o(function(n){var o,u;o=C(e+"_0_"+n,x(i[n][0],r,l),n,s),u=i[n].length>1?sn!==o.ptype||en!==t(i[n][1])||a(i[n][1],r)?C(e+"_1_"+n,x(i[n][1],r,l),n,s):i[n][1]:o,c.push(o),p.push(u)},0,i.length-1),s[e]=new L(at,e,[c,p])}function S(e,t){var n=u(e.tokens.slice());o(function(e){var r=n[e][0],o=n[e].length>1?n[e][1]:n[e][0],l=n[e].length>2?n[e][2]:"";null===o?(t.line=t.line||[],t.line.push(r)):(t.block=t.block||[],t.block.push([r,o,l]))},0,n.length-1)}function E(e,t,r){var o=e.meta||t,l=!(!e.caseInsesitive&&!e.ci),s=n(i(e.tokens),function(e){return{word:e,meta:o,ci:l}});r.autocomplete=(r.autocomplete||[]).concat(s)}function O(e){e.Lex||(e.Lex={}),e.Syntax||(e.Syntax={});var n,r,o,l,i,u,a,c,p,m,h,g=e.Lex,$=e.Syntax,k=[g,$],d=k.length;for(h=0;d>h;){m=k[h++];for(o in m)m[zt](o)&&(n=o.split(":"),r=n[1]&&gn(n[1]).length?gn(n[1]):null,n=gn(n[0]),n.length||(n=o,r=null),n!==o&&(m[n]=m[o],f(m,o),r&&(r=r[Gt](),l=m[n],i=t(l),on===i?m[n].type||(m[n].type=r):(m[n]={type:r},"error"===r?(m[n].type="action",m[n].error=l):"group"===r?(m[n].type="sequence",m[n].tokens=l):"action"===r&&en===i?m[n][l]=!0:m[n].tokens=l))),g===m&&(fn&t(m[n])&&(m[n]={type:"simple",tokens:m[n]}),l=m[n],l.type&&(c=l.type=l.type[Gt](),"line-block"===c?(l.type="block",l.multiline=!1,l.escape=!1):"escaped-line-block"===c?(l.type="block",l.multiline=!1,l.escape="\\"):"escaped-block"===c&&(l.type="block",l.multiline=!0,l.escape="\\"))))}m=g;for(n in m)if(m[zt](n))for(l=m[n];l.extend;)u=l.extend,f(l,"extend"),a=g[u],a&&(fn&t(a)&&(a=g[u]={type:"simple",tokens:a}),l=s(a,l));m=g;for(n in m)m[zt](n)&&(l=m[n],l.type?(c=l.type=l.type[Gt](),"line-block"===c?(l.type="block",l.multiline=!1,l.escape=!1):"escaped-line-block"===c?(l.type="block",l.multiline=!1,l.escape="\\"):"escaped-block"===c&&(l.type="block",l.multiline=!0,l.escape="\\")):l["escaped-line-block"]?(l.type="block",l.multiline=!1,l.escape||(l.escape="\\"),l.tokens=l["escaped-line-block"],f(l,"escaped-line-block")):l["escaped-block"]?(l.type="block",l.multiline=!0,l.escape||(l.escape="\\"),l.tokens=l["escaped-block"],f(l,"escaped-block")):l["line-block"]?(l.type="block",l.multiline=!1,l.escape=!1,l.tokens=l["line-block"],f(l,"line-block")):l.comment?(l.type="comment",l.escape=!1,l.tokens=l.comment,f(l,"comment")):l.block?(l.type="block",l.tokens=l.block,f(l,"block")):l.simple?(l.type="simple",l.tokens=l.simple,f(l,"simple")):l.error?(l.type="action",l.action=["error",l.error,!!l["in-context"]],f(l,"error")):l[zt]("context")?(l.type="action",l.action=[l.context?"context-start":"context-end",l.context,!!l["in-context"]],f(l,"context")):l.indent?(l.type="action",l.action=["indent",l.indent,!!l["in-context"]],f(l,"indent")):l.outdent?(l.type="action",l.action=["outdent",l.outdent,!!l["in-context"]],f(l,"outdent")):l.unique?(l.type="action",l.action=["unique",en&t(l.unique)?["_DEFAULT_",l.unique]:l.unique,!!l["in-context"]],f(l,"unique")):l.push?(l.type="action",l.action=["push",l.push,!!l["in-context"]],f(l,"push")):l[zt]("pop")?(l.type="action",l.action=["pop",l.pop,!!l["in-context"]],f(l,"pop")):l.type="simple","action"===l.type?l.ci=!(!l.caseInsesitive&&!l.ci):"block"===l.type||"comment"===l.type?(l.multiline=l[zt]("multiline")?!!l.multiline:!0,en&t(l.escape)||(l.escape=!1)):"simple"===l.type&&(l.autocomplete=!!l.autocomplete,l.meta=l.autocomplete&&en&t(l.meta)?l.meta:null,l.combine=l[zt]("combine")?l.combine:"\\b",l.ci=!(!l.caseInsesitive&&!l.ci)));m=$;for(n in m)m[zt](n)&&(l=m[n],on!==t(l)||l.type?l.type&&(c=l.type=l.type[Gt](),"group"===c&&l.match?(i=t(l.match),en&i?(p=l.match[Gt](),"alternation"===p||"either"===p?(l.type="alternation",f(l,"match")):"sequence"===p||"all"===p?(l.type="sequence",f(l,"match")):"zeroorone"===p?(l.type="zeroOrOne",f(l,"match")):"zeroormore"===p?(l.type="zeroOrMore",f(l,"match")):"oneormore"===p?(l.type="oneOrMore",f(l,"match")):(l.type="sequence",f(l,"match"))):rn&i&&(l.type="repeat",l.repeat=l.match,f(l,"match"))):"either"===c?l.type="alternation":"all"===c&&(l.type="sequence")):l.ngram||l["n-gram"]?(l.type="ngram",l.tokens=l.ngram||l["n-gram"],l["n-gram"]?f(l,"n-gram"):f(l,"ngram")):l.sequence||l.all?(l.type="sequence",l.tokens=l.sequence||l.all,l.all?f(l,"all"):f(l,"sequence")):l.alternation||l.either?(l.type="alternation",l.tokens=l.alternation||l.either,l.either?f(l,"either"):f(l,"alternation")):l.zeroOrOne?(l.type="zeroOrOne",l.tokens=l.zeroOrOne,f(l,"zeroOrOne")):l.zeroOrMore?(l.type="zeroOrMore",l.tokens=l.zeroOrMore,f(l,"zeroOrMore")):l.oneOrMore&&(l.type="oneOrMore",l.tokens=l.oneOrMore,f(l,"oneOrMore")));return e}function q(e,n,r){for(var o;en&t(o=n[e]||r[e]);)e=o;return o||e}function R(e,r,o){var s,i,u,a,c,p,f,m,h,g,$,b,x,v,C,_=!1;if(C=e.modifier?e.modifier:null,m=new String(gn(e)),m.pos=0,1===m.length)b=""+e,r[b]||o[b]||(r[b]={type:"simple",tokens:e}),e=b;else{for(s=[],i=[],u="",x=[];m.pos<m.length;)if(h=m[Ut](m.pos++),Cn.test(h))if(u.length&&(_?(i.length&&($=i[i.length-1],b=$+"."+u,p=r[b]||o[b],p||(f=q($,r,o),o[b]=en&t(f)?new String(f):l(f),o[b].modifier=u),i[i.length-1]=b),_=!1):"0"===u?(r[Lt]||(r[Lt]={type:"simple",tokens:0}),i.push(Lt)):"^^"===u?(r[qt]||(r[qt]={type:"simple",tokens:pt}),i.push(qt)):"^"===u?(r[Rt]||(r[Rt]={type:"simple",tokens:mt}),i.push(Rt)):"$"===u?(r[Mt]||(r[Mt]={type:"simple",tokens:ft}),i.push(Mt)):(r[u]||o[u]||(r[u]={type:"simple",tokens:u}),i.push(u)),u=""),"."===h)_=!0;else if('"'===h||"'"===h)a=y(m,h,"\\",!0),a.length?(b=""+a,r[b]||(r[b]={type:"simple",tokens:a}),i.push(b)):(r[Pt]||(r[Pt]={type:"simple",tokens:""}),i.push(Pt));else if("/"===h)a=y(m,h,"\\",!0),g="",a.length&&(m.pos<m.length&&"i"===m[Ut](m.pos)&&(m.pos++,g="i"),b="/"+a+"/"+g,r[b]||(r[b]={type:"simple",tokens:d("^("+a+")",g)}),i.push(b));else if("*"===h||"+"===h||"?"===h)$=i[i.length-1],b=""+$+h,o[b]||(o[b]={type:"*"===h?"zeroOrMore":"+"===h?"oneOrMore":"zeroOrOne",tokens:[$]}),i[i.length-1]=b;else if("{"===h)c=y(m,"}",!1),c=n(c.split(","),gn),c[0]=c[0].length?parseInt(c[0],10)||0:0,0>c[0]&&(c[0]=0),2>c.length?c.push(c[0]):c[1]=c[1].length?parseInt(c[1],10)||Ht:Ht,0>c[1]&&(c[1]=0),$=i[i.length-1],b=""+$+["{",c[0],",",isFinite(c[1])?c[1]:"","}"].join(""),o[b]||(o[b]={type:"repeat",repeat:[c[0],c[1]],tokens:[$]}),i[i.length-1]=b;else{if("}"===h)continue;if("["===h)a=y(m,"]","\\",!0),b="["+a+"]",r[b]||(r[b]={type:"simple",tokens:d("^(["+("^"===a[Ut](0)?"^"+k(a.slice(1)):k(a))+"])")}),i.push(b);else{if("]"===h)continue;"|"===h?(_=!1,i.length>1?(b=""+i.join(" "),o[b]||(o[b]={type:"sequence",tokens:i}),s.push(b)):i.length&&s.push(i[0]),i=[]):"("===h?(x.push([i,s,u]),i=[],s=[],u=""):")"===h&&(i.length>1?(b=""+i.join(" "),o[b]||(o[b]={type:"sequence",tokens:i}),s.push(b)):i.length&&s.push(i[0]),i=[],s.length>1?(b=""+s.join(" | "),o[b]||(o[b]={type:"alternation",tokens:s})):s.length&&(b=s[0]),s=[],v=x.pop(),i=v[0],s=v[1],u=v[2],$=b,b="("+$+")",o[b]||(o[b]=l(r[$]||o[$])),i.push(b))}}else u+=h;u.length&&(_?(i.length&&($=i[i.length-1],b=$+"."+u,p=r[b]||o[b],p||(f=q($,r,o),o[b]=en&t(f)?new String(f):l(f),o[b].modifier=u),i[i.length-1]=b),_=!1):"0"===u?(r[Lt]||(r[Lt]={type:"simple",tokens:0}),i.push(Lt)):"^^"===u?(r[qt]||(r[qt]={type:"simple",tokens:pt}),i.push(qt)):"^"===u?(r[Rt]||(r[Rt]={type:"simple",tokens:mt}),i.push(Rt)):"$"===u?(r[Mt]||(r[Mt]={type:"simple",tokens:ft}),i.push(Mt)):(r[u]||o[u]||(r[u]={type:"simple",tokens:u}),i.push(u))),u="",i.length>1?(b=""+i.join(" "),o[b]||(o[b]={type:"sequence",tokens:i}),s.push(b)):i.length&&s.push(i[0]),i=[],s.length>1?(b=""+s.join(" | "),o[b]||(o[b]={type:"alternation",tokens:s}),e=b):s.length&&(e=s[0]),s=[]}return C&&(r[e]||o[e])&&((r[e]||o[e]).modifier=C),e}function M(e,l,s,a,c,p,f,m,h,g,$){var k,d,y,b,x,v,C=null,O=null,q=null;if(pt===e||mt===e||ft===e)return new D(e,pt===e?qt:mt===e?Rt:Mt,e,O);if(!1===e||0===e)return new D(ht,Lt,0,O);if(""===e)return new D(gt,Pt,"",O);if(null===e)return new D($t,jt,Jt,O,q);if(rn&t(e)&&(y=e,e="NGRAM_"+y.join("_"),a[e]||(a[e]={type:"ngram",tokens:y})),e=""+e,m[e])return m[e];if(x=s[e]||a[e]||e,en&t(x)&&(x=R(x,s,a),x=s[x]||a[x]||null),!x)return null;if(k=x.type?Ot[x.type[Gt]().replace(dn,"")]||$t:$t,O=x.msg||null,q=x.modifier||null,d=x.tokens,$t&k){if(pt===d||mt===d||ft===d)return C=new D(d,e,d,O),m[e]=C,C;if(!1===d||0===d)return C=new D(ht,e,0,O),m[e]=C,C;if(""===d)return C=new D(gt,e,"",O),m[e]=C,C;if(null===d)return C=new D($t,e,Jt,O,q),m[e]=C,C;if(!d)return null}return ct&k?(x[zt]("action")?"error"===x.action[0]?x.action[0]=Z:"context-start"===x.action[0]?x.action[0]=nt:"context-end"===x.action[0]?x.action[0]=rt:"push"===x.action[0]?x.action[0]=ot:"pop"===x.action[0]?x.action[0]=lt:"unique"===x.action[0]?x.action[0]=st:"indent"===x.action[0]?x.action[0]=et:"outdent"===x.action[0]&&(x.action[0]=tt):x[zt]("error")?x.action=[Z,x.error,!!x["in-context"]]:x[zt]("context")?x.action=[x.context?nt:rt,x.context,!!x["in-context"]]:x[zt]("context-start")?x.action=[nt,x["context-start"],!!x["in-context"]]:x[zt]("context-end")?x.action=[rt,x["context-end"],!!x["in-context"]]:x[zt]("push")?x.action=[ot,x.push,!!x["in-context"]]:x[zt]("pop")?x.action=[lt,x.pop,!!x["in-context"]]:x[zt]("unique")?x.action=[st,en&t(x.unique)?["_DEFAULT_",x.unique]:x.unique,!!x["in-context"]]:x[zt]("indent")?x.action=[et,x.indent,!!x["in-context"]]:x[zt]("outdent")&&(x.action=[tt,x.outdent,!!x["in-context"]]),C=new D(ct,e,x.action.slice(),O,q),C.ci=!!x.caseInsensitive||x.ci,m[e]=C):(d=i(d),$t&k?(x.autocomplete&&E(x,e,$),v=x[zt]("combine")?x.combine:"\\b",C=new D($t,e,_(e,d.slice(),l,v,!(!x.caseInsensitive&&!x.ci),p,f),O,q),m[e]=C):kt&k?(dt===k&&S(x,g),C=new D(k,e,w(e,d.slice(),l,p,f),O),C.mline=x[zt]("multiline")?!!x.multiline:!0,C.esc=x[zt]("escape")?x.escape:!1,C.inter=!!c[e+".inside"],dt===k&&x.interleave&&h.push(N(C)),q&&(C.modifier=q),m[e]=C):Et&k&&(wt===k?(b=u(d),C=n(b,function(t,n){return new D(wt,e+"_NGRAM_"+n,null,O,q)}),m[e]=C,o(function(e){C[e].token=i(r(b[e],function(e,t){return e.concat(M(t,l,s,a,c,p,f,m,h,g,$))},[]))},0,b.length-1)):(xt&k&&rn&t(x.repeat)?(C=new D(xt,e,null,O,q),C.min=x.repeat[0],C.max=x.repeat[1]):vt===k?(C=new D(vt,e,null,O,q),C.min=0,C.max=1):Ct===k?(C=new D(Ct,e,null,O,q),C.min=0,C.max=Ht):_t===k?(C=new D(_t,e,null,O,q),C.min=1,C.max=Ht):C=yt===k?new D(yt,e,null,O,q):new D(bt,e,null,O,q),m[e]=C,C.token=i(r(d,function(e,t){return e.concat(M(t,l,s,a,c,p,f,m,h,g,$))},[]))))),m[e]}function j(e){var n,o,s,i,u,a,c,p,f,m,h,g;return e.__parsed?e:(n=e.RegExpID||null,s=e.Extra?l(e.Extra):{},i=e.Style?l(e.Style):{},u=e.Lex?l(e.Lex):{},a=e.Syntax?l(e.Syntax):{},c={},p={},f={},h={},g={},m=[],o=e.Parser?l(e.Parser):[],e=O({Style:i,Lex:u,Syntax:a,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:s,__parsed:0}),e.$parser=r(o,function(e,r){var o=M(r,n,u,a,i,c,p,f,m,h,g)||null;return o&&(rn&t(o)?e=e.concat(o):e.push(o)),e},[]),e.$interleaved=m&&m.length?m:null,e.$comments=h,e.$autocomplete=g&&g.autocomplete&&g.autocomplete.length?g.autocomplete:null,e.__parsed=1,e)}function L(e,n,r,o,l){var s,i,u=this;s=u.type=e,u.name=n,u.pattern=r,i=u.ptype=o||en,u.key=l||0,ut===s?u.key=!1!==l:at===s?u.pattern[0]=new L(ut,n+"_Start",r[0],null,!1):Jt===i?u.pattern=null:sn===i&&(u.pattern=sn&t(r)?[r,0]:[r[0],r[1]||0])}function P(e,n,r){var o,l,s,i,u,a,c,p,f,m,h,g=e,$=g.type,k=g.pattern,d=g.key;if(at===$){if(o=g.name,s=k[0],i=k[1],a=P(s,n,r))return u=i[a[0]],p=t(u),f=s.pattern[a[0]].ptype,sn===f&&an&p&&(c=Kt&p?a[1][u+1]:b(u,a[1]),u=new L(it,o+"_End",c,c.length>1?en:tn)),u}else if(ut===$){for(m=0,h=k.length;h>m;m++)if(c=P(k[m],n,r))return d?[m,c[1]]:c}else{if(l=g.ptype,Jt===l)return!1!==r&&n.end(),[d,""];if(sn===l){if(c=n.s.slice(n.pos).match(k[0]),c&&0===c.index)return!1!==r&&n.mov(c[k[1]||0].length),[d,k[1]>0?c[k[1]]:c]}else if(nn===l){if(c=n.s[Ut](n.pos)||null,c&&-1<k.indexOf(c))return!1!==r&&n.mov(1),[d,c]}else if(tn===l){if(c=n.s[Ut](n.pos)||null,k===c)return!1!==r&&n.mov(1),[d,c]}else if(en===l&&(h=k.length,k===n.s.substr(n.pos,h)))return!1!==r&&n.mov(h),[d,k]}return!1}function D(e,t,n,r,o){var l=this;l.type=e,l.name=t,l.token=n,l.modifier=o||null,l.pos=null,l.msg=r||null,l.$msg=null,l.status=0,l.ci=!1,l.mline=!0,l.esc=!1,l.inter=!1,l.found=0,l.min=0,l.max=1,l.$id=null}function N(e,t,n){var r=new D(e.type,e.name,e.token,e.msg,e.modifier);return r.ci=e.ci,r.mline=e.mline,r.esc=e.esc,r.inter=e.inter,r.found=e.found,r.min=e.min,r.max=e.max,t&&(r.status|=Y),n&&(r.modifier=n),r}function z(e){var t=e.name;return e.$msg?e.$msg:e.status&Y?'Token "'+t+'" Expected':'Syntax Error: "'+t+'"'}function A(e,t,n,r,o,l,s){e.err[t+"_"+n+"_"+r+"_"+o+"_"+l.name]=[t,n,r,o,s||z(l)]}function B(e,t,n,r){var o=e.type,l=Et&o?V:kt&o?T:ct&o?F:I;return l(e,t,n,r)}function F(e,n,r,o){var l,s,i,u,a,c,p,f,m,h,g,$,k,d,y,x,v=e,C=v.token||null,_=v.ci,w=v.name,S=!(r.status&H);if(v.status=0,v.$msg=null,S||!C||!o||!o.pos)return!0;if(x=!!(kt&o.T),x&&!o.block)return!0;if(l=C[0],s=C[1],k=C[2],c=r.queu,p=r.symb,f=r.ctx,a=v.msg,x?(y=o.block.match||o.block.str,m=o.block.pos[0][0],h=o.block.pos[0][1],g=o.block.pos[o.block.pos.length-1][2],$=o.block.pos[o.block.pos.length-1][3]):(y=o.match||o.str,m=o.pos[0],h=o.pos[1],g=o.pos[2],$=o.pos[3]),Z===l)return!a&&en&t(s)&&(a=s),v.$msg=a?b(a,y,!0):'Error "'+w+'"',A(r,m,h,g,$,v,z(v)),v.status|=J,!1;if(et===l);else if(tt===l);else if(rt===l)f.length&&f.shift();else if(nt===l)f.unshift({symb:{},scop:{},queu:[]});else if(st===l){if(k){if(!f.length)return!0;p=f[0].symb}if(o){if(i=s[1],u=s[0],i=b(i,y,!0),_&&(i=i[Gt]()),p[zt](u)||(p[u]={}),p[u][zt](i))return v.$msg=a?b(a,i,!0):'Duplicate "'+i+'"',d=z(v),A(r,p[u][i][0],p[u][i][1],p[u][i][2],p[u][i][3],v,d),A(r,m,h,g,$,v,d),v.status|=J,!1;p[u][i]=[m,h,g,$]}}else if(lt===l){if(k){if(!f.length)return!0;c=f[0].queu}if(s){if(s=b(s,y),_&&(s=s[Gt]()),!c.length||s!==c[0][0])return c.length?(v.$msg=a?b(a,[c[0][0],s],!0):'Tokens do not match "'+c[0][0]+'","'+s+'"',d=z(v),A(r,c[0][1],c[0][2],c[0][3],c[0][4],v,d),A(r,m,h,g,$,v,d),c.shift()):(v.$msg=a?b(a,["",s],!0):'Token does not match "'+s+'"',d=z(v),A(r,m,h,g,$,v,d)),v.status|=J,!1;c.shift()}else c.shift()}else if(ot===l&&s){if(k){if(!f.length)return!0;c=f[0].queu}s=b(s,y),_&&(s=s[Gt]()),c.unshift([s,m,h,g,$])}return!0}function I(e,t,n,r){var o=e,l=o.token,s=o.modifier,i=o.type,u=o.name,a=n.line,c=t.pos,p=null,f=!1;return o.status&=Q,o.$msg=o.msg||null,pt===i?f=0===a:mt===i?f=t.sol():ft===i?(t.spc(),t.eol()?f=u:t.bck(c)):ht===i?(o.status=0,f=!0):gt===i?(o.status&Y&&t.spc()&&!t.eol()?(t.bck(c),o.status|=J):f=!0,o.status&=K):Jt===l?(t.end(),f=s||u):(p=P(l,t))&&(p=p[1],f=s||u),!1!==f&&(r.T=i,r.id=u,r.type=f,r.str=t.sel(c,t.pos),r.match=p,r.pos=[a,c,a,t.pos]),!f&&o.status&&o.$msg&&(o.$msg=b(o.$msg,u,!0)),f}function T(e,t,n,r){var o,l,s,i,u,a,p,f,m,h,g,$,k,d,y,x,v,C,_,w=e,S=w.name,E=w.type,O=w.modifier,q=w.token,R=w.mline,M=w.inter,j=M?S+".inside":S,L=w.esc,D=!!L,z="",A="",B="",F="",I=w.$id||S,T=n.stack;if(w.status&=Q,w.$msg=w.msg||null,C=n.line,_=t.pos,dt===E&&(w.status&=K),d=w.status&Y,s=0,i=0,n.block&&n.block.name===S?(i=1,s=1,k=j,o=n.block.end,f=n.block.sp,h=n.block.ip,m=n.block.ep,z=n.block.s,A=n.block.i):!n.block&&(o=P(q,t))&&(i=1,k=S,y=t.pos,f=[C,_],h=[[C,y],[C,y]],m=[C,y],z=t.sel(_,y),A="",F="",n.block={name:S,end:o,sp:f,ip:h,ep:m,s:z,i:A,e:F}),i){if(v=T.length,l=Jt===o.type,M){if(l&&s&&t.sol())return w.status&=K,n.block=null,!1;if(!s)return y=t.pos,r.T=E,r.id=S,r.type=O||k,r.str=t.sel(_,y),r.match=null,r.pos=[C,_,C,y],c(T,v,N(w,d),"$id",I),O||k}if(u=P(o,t),p=R,a=0,u)k=l?j:S,F=t.cur().slice(B.length);else for(x=t.pos,g=!1;!t.eol();){if(y=t.pos,!g&&P(o,t)){M&&t.pos>y&&y>x?(k=j,t.bck(y),a=1):(k=S,u=1),F=t.cur().slice(B.length);break}$=t.nxt(1),B+=$,g=D&&!g&&L===$}return p=R||D&&g,A+=B,h[1]=[C,y],m=[C,t.pos],u||!p&&!a?n.block=null:(n.block.ip=h,n.block.ep=m,n.block.i=A,n.block.e=F,c(T,v,N(w,d),"$id",I)),r.T=E,r.id=S,r.type=O||k,r.str=t.sel(_,t.pos),r.match=null,r.pos=[C,_,m[0],m[1]],n.block||(r.block={str:z+A+F,match:[z+A+F,A,z,F],part:[z,A,F],pos:[[f[0],f[1],h[0][0],h[0][1]],[h[0][0],h[0][1],h[1][0],h[1][1]],[h[1][0],h[1][1],m[0],m[1]]]}),O||k}return w.status&&w.$msg&&(w.$msg=b(w.$msg,S,!0)),!1}function V(e,t,n,r){var o,l,s,i,u,a,p,f,h,g,$,k,d,y,b,x=e,v=x.type,C=x.name,_=x.token,w=_.length,S=x.modifier;if(x.status&=Q,x.$msg=x.msg||null,k=n.stack,f=t.pos,h=k.length,a=0,p=0,yt===v){for(x.status|=Y,d=[],g=0;w>g;g++){if(o=N(_[g],1,S),l=B(o,t,n,r),o.status&Y&&(a++,d.push(z(o))),!1!==l)return l;o.status&J&&(p++,t.bck(f))}return a>0?x.status|=Y:x.status&=K,w===p&&a>0?x.status|=J:x.status&=Q,x.status&&!x.$msg&&d.length&&(x.$msg=d.join(" | ")),!1}if(St&v){if(b=!!(v&bt),b?x.status|=Y:x.status&=K,y=C+"_"+m(),o=N(_[0],b,S),l=B(o,t,n,r),!1!==l){if(!0!==l||ht!==o.type)for(g=w-1;g>0;g--)$=N(_[g],1,S),c(k,h+w-g-1,$,"$id",y);return l}return o.status&J?(b?x.status|=J:x.status&=Q,t.bck(f)):b&&o.status&Y&&(x.status|=J),x.status&&!x.$msg&&(x.$msg=z(o)),!1}for(s=x.found,i=x.min,u=x.max,x.status&=K,y=C+"_"+m(),d=[],g=0;w>g;g++){if(o=N(_[g],1,S),l=B(o,t,n,r),!1!==l){if(++s,u>=s)return x.found=s,c(k,h,N(x),"$id",y),x.found=0,l;break}o.status&Y&&(a++,d.push(z(o))),o.status&J&&t.bck(f)}return i>s?x.status|=Y:x.status&=K,s>u||i>s&&a>0?x.status|=J:x.status&=Q,x.status&&!x.$msg&&d.length&&(x.$msg=d.join(" | ")),!1}function G(e,t){var n=function o(e,t){return{startState:function(){return o.$parser.state()},copyState:function(e){return o.$parser.state(0,e)},token:function(e,t){var n=bn._(e),r=o.$parser.token(n,t).type;return e.pos=n.pos,n.dispose(),r},indent:function(n,r,l){return o.$parser.indent(n,r,l,e,t)},lineComment:o.$parser.LC,blockCommentStart:o.$parser.BCS,blockCommentEnd:o.$parser.BCE,blockCommentContinue:o.$parser.BCC,blockCommentLead:o.$parser.BCL,electricInput:o.$parser.$grammar.$extra.electricInput||!1,electricChars:o.$parser.$grammar.$extra.electricChars||!1,fold:o.$parser.$grammar.$extra.fold||!1}};return n.$id=h("codemirror_grammar_mode"),n.$parser=new On(j(e),t),n.supportGrammarAnnotations=!1,n.validator=function(e){if(!(n.$parser&&n.supportGrammarAnnotations&&e&&e.length))return[];var t,r,o=[],l=wn.Pos,s=n.$parser.parse(e,H);if(!s)return o;for(t in s)s[zt](t)&&(r=s[t],o.push({message:r[4]||"Syntax Error",severity:"error",from:l(r[0],r[1]),to:l(r[2],r[3])}));return o},n.autocomplete_renderer=function(e,t,n){var r=n.text,o=n.meta,l=n.start,s=n.end,i=t.list.maxlen-r.length-o.length+5;e.innerHTML=['<span class="cmg-autocomplete-keyword">',r.slice(0,l),'<strong class="cmg-autocomplete-keyword-match">',r.slice(l,s),"</strong>",r.slice(s),"</span>",new Array(1+i).join("&nbsp;"),'<strong class="cmg-autocomplete-keyword-meta">',o,"</strong>","&nbsp;"].join(""),e.className=(e.className&&e.className.length?e.className+" ":"")+"cmg-autocomplete-keyword-hint",e.style.position="relative",e.style.boxSizing="border-box",e.style.width="100%",e.style.maxWidth="100%"},n.autocomplete=function(e,t){var o,l,s,i,u,a,c,p,f=[],m=wn.Pos,h=e.getCursor(),g=h.ch,$=g,k=g,d=k,y=0;if(n.$parser&&n.$parser.$grammar.$autocomplete){for(t=t||{},u=t.word||Sn,o=e.getLine(h.line),p=t[zt]("prefixMatch")?!!t.prefixMatch:!0;$&&u.test(o[Ut]($-1));)--$;if(!p)for(;d<o.length&&u.test(o[Ut](d));)++d;d>$&&(c=t[zt]("caseInsensitiveMatch")?!!t.caseInsensitiveMatch:!1,a=t.renderer||n.autocomplete_renderer,l=o.slice($,d),s=l[Gt](),i=l.length,r(n.$parser.$grammar.$autocomplete,function(e,t){var n,r,o,u,f,m,h,g=t.word,$=g.length;return $>=i&&(n=t.meta,r=!!g.ci,h=c||r,h?(f=g[Gt](),m=s):(f=g,m=l),(u=f.indexOf(m))>=0&&(!p||0===u)&&(o=h?g.indexOf(l):u,$+n.length>y&&(y=$+n.length),e.push({text:g,name:g,meta:n,start:0>o?u:o,end:(0>o?u:o)+l.length,match:l,displayText:g+"		["+n+"]",render:a,score:1e3-10*($-i)-5*(0>o?u+3:o)}))),e},f),f.length&&(f=f.sort(En)),f.maxlen=y)}return{list:f,from:m(h.line,$),to:m(h.line,d)}},n.dispose=function(){n.$parser&&n.$parser.dispose(),n.$parser=null},n}var U=1,H=2,W=32,Y=4,J=8,K=~Y,Q=~J,X=Y|J,Z=4,et=8,tt=16,nt=32,rt=64,ot=128,lt=256,st=512,it=2,ut=4,at=8,ct=4,pt=8,ft=16,mt=32,ht=128,gt=256,$t=512,kt=1024,dt=1025,yt=2048,bt=4096,xt=8192,vt=8193,Ct=8194,_t=8195,wt=16384,St=bt|wt,Et=yt|bt|xt|wt,Ot={action:ct,simple:$t,block:kt,comment:dt,alternation:yt,sequence:bt,repeat:xt,zeroorone:vt,zeroormore:Ct,oneormore:_t,ngram:wt},qt="$|SOF|$",Rt="$|SOL|$",Mt="$|EOL|$",jt="$|ENDLINE|$",Lt="$|EMPTY|$",Pt="$|NONSPACE|$",Dt=void 0,Nt="prototype",zt="hasOwnProperty",At="propertyIsEnumerable",Bt=Object[Nt],Ft=Bt.toString,It=Object.create,Tt=Math.max,Vt=Math.min,Gt="toLowerCase",Ut="charAt",Ht=1/0,Wt=4,Yt=8,Jt=16,Kt=32,Qt=33,Xt=34,Zt=64,en=128,tn=129,nn=130,rn=256,on=512,ln=1024,sn=2048,un=4096,an=en|Kt,cn=en|rn,pn=sn|rn,fn=en|rn|sn,mn={"[object Number]":Kt,"[object String]":en,"[object Array]":rn,"[object RegExp]":sn,"[object Date]":un,"[object Function]":ln,"[object Object]":on},hn=/^\s+|\s+$/g,gn=String[Nt].trim?function(e){return e.trim()}:function(e){return e.replace(hn,"")},$n=function(e,t){return t.length-e.length},kn=/\r\n|\r|\n/g,dn=/[\-_]/g,yn=0,bn=$({constructor:function(e){var t=this;t._=null,t.s=e?""+e:"",t.start=t.pos=0,t.lCP=t.lCV=0,t.lS=0},_:null,s:"",start:0,pos:0,lCP:0,lCV:0,lS:0,dispose:function(){var e=this;return e._=null,e.s=null,e.start=null,e.pos=null,e.lCP=null,e.lCV=null,e.lS=null,e},new_:function(e){var t=this;return t.s=""+e,t.start=t.pos=0,t.lCP=t.lCV=0,t.lS=0,t},sol:function(){return 0===this.pos},eol:function(){return this.pos>=this.s.length},end:function(){var e=this;return e.pos=e.s.length,e},mov:function(e){var t=this;return t.pos=0>e?Tt(0,t.pos+e):Vt(t.s.length,t.pos+e),t},bck:function(e){var t=this;return t.pos=Tt(0,e),t},sft:function(){var e=this;return e.start=e.pos,e},nxt:function(e,t){var n,r,o=this,l=o.s,s="";if(!0===e)for(t=t||bn.$RE_NONSPC$;o.pos<l.length&&t.test(n=l.charAt(o.pos++));)s+=n;else for(e=e||1,r=0;r++<e&&o.pos<l.length;)s+=l.charAt(o.pos++);return s.length?s:null},cur:function(e){var t=this,n=t.s.slice(t.start,t.pos);return e&&(t.start=t.pos),n},sel:function(e,t){return this.s.slice(e,t)},spc:function(e,t){var n,r=this,o=r.pos,l=r.s.slice(o);return(n=l.match(t||bn.$RE_SPC$))?(!1!==e&&r.mov(n[0].length),n[0]):null},col:function(e){var t=this;return e=e||1,t.lCP<t.start&&(t.lCV=bn.col(t.s,t.start,e,t.lCP,t.lCV),t.lCP=t.start,t._&&(t._.start=t.start,t._.lastColumnPos=t.lCP,t._.lastColumnValue=t.lCV,t._.lineStart=t.lS)),t.lCV-(t.lS?bn.col(t.s,t.lS,e):0)},ind:function(e){var t=this;return e=e||1,bn.col(t.s,null,e)-(t.lS?bn.col(t.s,t.lS,e):0)}});bn.$RE_SPC$=/^[\s\u00a0]+/,bn.$RE_NONSPC$=/[^\s\u00a0]/,bn.col=function(e,t,n,r,o){var l,s;for(null===t&&(t=e.search(bn.$RE_NONSPC$),-1===t&&(t=e.length)),l=r||0,s=o||0;t>l;++l)s+="	"===e.charAt(l)?n-s%n:1;return s},bn._=function(e){var t=new bn;return t._=e,t.s=""+e.string,t.start=e.start,t.pos=e.pos,t.lCP=e.lastColumnPos,t.lCV=e.lastColumnValue,t.lS=e.lineStart,t};{var xn=$({constructor:function qn(e,t){var n=this;n.id=e?h("state"):"state",t instanceof qn?(n.line=t.line,n.status=t.status,n.stack=t.stack.slice(),n.block=t.block,n.status&H?(n.queu=t.queu,n.symb=t.symb,n.scop=t.scop,n.ctx=t.ctx,n.err=t.err):(n.queu=null,n.symb=null,n.scop=null,n.ctx=null,n.err=null)):(n.line=-1,n.status=t||0,n.stack=[],n.block=null,n.status&H?(n.queu=[],n.symb={},n.scop={},n.ctx=[],n.err={}):(n.queu=null,n.symb=null,n.scop=null,n.ctx=null,n.err=null))},id:null,line:0,status:0,block:null,stack:null,queu:null,symb:null,scop:null,ctx:null,err:null,dispose:function(){var e=this;return e.id=null,e.line=null,e.status=null,e.stack=null,e.block=null,e.queu=null,e.symb=null,e.scop=null,e.ctx=null,e.err=null,e},toString:function(){var e=this;return e.id+"_"+e.line+"_"+(e.block?e.block.name:"0")}}),vn=/([.*+?^${}()|[\]\/\\\-])/g,Cn=/^([.\[\]{}()*+?\/|'"]|\s)/,_n=$({constructor:function(e,t,n){var r=this;r.$grammar=e,r.$DEF=t||null,r.$ERR=n||null,r.DEF=r.$DEF,r.ERR=r.$ERR},$grammar:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},state:function(e,t){var n;return arguments.length>1&&t instanceof xn?(n=new xn(e,t),n.$eol$=t.$eol$):(n=new xn(e,t),n.$eol$=!0),n},token:function(e,t){var n,r,o,l,s,i,u,a,c,f,m,h=this,g=h.$grammar,$=g.Style,k=h.DEF,d=h.ERR,y={},b=h.$n$,x=h.$t$,v=h.$v$,C=g.$interleaved,_=g.$parser,w=_.length,S=C?C.length:0;if(t.$eol$&&e.sol()&&(t.$eol$=!1,t.line++),t.$actionerr$=!1,i=t.stack,u=t.line,a=e.pos,m=!0,s=!1,l=!1,i.length&&ft===i[i.length-1].type&&e.sol()&&i.pop(),i.length&&gt===i[i.length-1].type||!e.spc()||(m=!1),y[b]=null,y[x]=k,y[v]=null,m)for(o={T:0,id:null,type:null,match:null,str:"",pos:null},c=0;m&&(i.length||w>c)&&!e.eol();){if(S){for(f=0;S>f;f++)if(n=C[f],l=B(n,e,t,o),!1!==l){m=!1;break}if(!m)break}if(n=i.length?i.pop():_[c++],l=B(n,e,t,o),!1!==l){if(i.length&&ct===i[i.length-1].type)for(;i.length&&ct===i[i.length-1].type;)r=i.pop(),F(r,e,t,o),r.status&J&&(t.$actionerr$=!0);else if(i.length>1&&e.eol()&&kt&i[i.length-1].type&&t.block&&t.block.name===i[i.length-1].name)for(f=i.length-2;f>=0&&ct===i[f].type;)r=i[f--],F(r,e,t,o),r.status&J&&(t.$actionerr$=!0);if(!0!==l){m=!1;break}}else if(n.status&X){p(i,"$id",n.$id),e.nxt(!0)||e.spc(),s=!0,m=!1;break}}return m&&e.nxt(!0),y[v]=e.cur(1),!1!==l?(l=$[l]||k,y[b]=n.name):s?(l=d,t.status&H&&A(t,u,a,u,e.pos,n)):l=k,y[x]=l,t.$eol$=e.eol(),y},tokenize:function(e,t){var n=this,r=[];if(e.eol())t.line++,t.$eol$=!0;else for(;!e.eol();)r.push(n.token(e,t));return r},parse:function(e,t){var n,r,l,s,i,u=this,a=(e||"").split(kn),c=a.length,p=null;return t=t||U,l=!!(t&H),s=!!(t&U),n=u.state(0,t),n.$full_parse$=!0,r=new bn,o(function(e){a[e]+="\n"},0,c-2),s?p=o(t&W?function(e,t){t._=t._.concat(u.tokenize(r.new_(a[e]),n,e))
}:function(e,t){t._.push(u.tokenize(r.new_(a[e]),n,e))},0,c-1,{_:[]})._:o(function(e){if(r.new_(a[e]),r.eol())n.line++,n.$eol$=!0;else for(;!r.eol();)u.token(r,n)},0,c-1),i=s&&l?{tokens:p,errors:n.err}:s?p:n.err,r.dispose(),n.dispose(),i},indent:function(){}}),wn=CodeMirror||{Pass:{toString:function(){return"CodeMirror.Pass"}}},Sn=/[\w$]/,En=function(e,t){return t.score-e.score},On=$(_n,{constructor:function(e,t){var n=this;_n.call(n,e,null,"error"),n.DEF=t||n.$DEF,n.ERR=e.Style.error||n.$ERR,n.LC=e.$comments.line?e.$comments.line[0]:null,n.BCS=e.$comments.block?e.$comments.block[0][0]:null,n.BCE=e.$comments.block?e.$comments.block[0][1]:null,n.BCC=n.BCL=e.$comments.block?e.$comments.block[0][2]:null},LC:null,BCS:null,BCE:null,BCL:null,BCC:null,dispose:function(){var e=this;return e.LC=e.BCS=e.BCE=e.BCL=e.BCC=null,_n[Nt].dispose.call(e)},indent:function(e,t,n,r){var o=(r.indentUnit||4,wn.Pass);return o}});e.CodeMirrorGrammar={VERSION:"2.5.0",clone:l,extend:s,pre_process:O,parse:j,getMode:G}}return e.CodeMirrorGrammar});